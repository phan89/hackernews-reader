{"version":3,"sources":["styles/mediaQueries.js","components/App/style.js","components/Navigation/styles.js","styles/palette.js","store/app/actions.js","components/Navigation/index.js","components/Stories/StoryPagesCollection/styles.js","components/Loader/styles.js","components/Stories/StoryPage/styles.js","components/Stories/StoryItem/styles.js","services/API.js","services/hackernewsAPI.js","components/Stories/StoryItem/index.js","utils/Utils.js","components/Stories/StoryBatch/index.js","store/story/actions.js","store/story/utils.js","components/Stories/StoryPage/index.js","components/Loader/index.js","store/story/selectors.js","components/Stories/StoryPagesCollection/index.js","components/App/index.js","serviceWorker.js","styles/globals.js","store/middleware.js","store/app/reducer.js","store/story/reducer.js","store/reducer.js","store/index.js","index.js"],"names":["tablet","Wrapper","styled","div","Header","header","theme","background","secondary","border","Title","h1","text","primary","Link","a","Nav","Action","Logo","svg","logo","color","themes","name","disabled","hot","warning","error","chatbox","hover","brightness","linkColor","primaryHover","actionTypes","SET_THEME","actions","setTheme","payload","localStorage","setItem","type","NavBar","toggleTheme","bind","evt","this","props","dark","light","href","viewBox","xmlns","d","onClick","Component","connect","state","app","dispatch","backgroundSecondary","blink","keyframes","AnimitedBlink","css","Animation","StoryPageWrapper","ul","BoxScore","HotBox","ChatBox","ContentBox","StoryListItem","li","bogusLoader","h3","Host","span","ExternalLink","Description","SimpleLink","CommentLink","API_ROOT","process","URL","HEADERS","BASE_URL","API_CLIENT","baseURL","timeout","headers","auth","client","axios","create","interceptors","response","use","handleSuccess","handleError","Promise","reject","path","get","then","data","post","put","patch","delete","PAGE_STATUS","hackerNewsApi","fetchTopStoriesIDs","fetchStory","id","getPageStoryIDs","ids","page","getPageRange","start","end","getPageItems","fetchStoriesByPage","pageIDs","storyPromises","map","all","resolve","fetchStoriesIdsAsync","storyIDs","splitStoryIDsIntoPages","chunkSize","pageSize","item","idx","slice","filter","e","pageStoryIDs","pageIndex","index","status","limit","items","getUserDetailLink","userID","getStoryCommentURL","storyID","StoryItem","story","postedTime","time","domainHost","url","domain","undefined","urlMatches","match","getHostFromURL","commentURL","hackernewsAPI","rel","target","score","descendants","title","by","dateTime","Date","toISOString","timeago","StoryBatch","stories","Fragment","key","NS","FETCH_TOP_STORY_IDS_REQUEST","FETCH_TOP_STORY_IDS_SUCCESS","FETCH_TOP_STORY_IDS_FAILURE","FETCH_PAGE_STORIES_REQUEST","FETCH_PAGE_STORIES_SUCCESS","FETCH_PAGE_STORIES_FAILURE","FETCH_PAGE_STORIES_BATCH_REQUEST","FETCH_PAGE_STORIES_BATCH_SUCCESS","FETCH_PAGE_STORIES_BATCH_FAILURE","RELOAD_STORIES","defaultAction","reloadStories","fetchStoryPages","fetchFirstPage","pages","fetchStoriesForPage","catch","err","pageBatchesPromises","storyIDS","reduce","promiseChain","currentBatchPromises","chainResults","currentResult","arrayOfResults","Utils","toFetchPage","find","batchStories","batchIndex","StoryPage","batches","getPageBatches","batch","Loader","bogusStories","bogusPage","hasMorePagesSelector","createSelector","totalPages","fetchedPages","length","StoryPagesCollection","fetchNextPage","refreshData","pagesFetched","nextPageToFetch","pagedStoriesFetched","hasMorePages","dataLength","next","hasMore","loader","refreshFunction","pullDownToRefresh","style","height","overflowY","storyReducer","isFetching","getFetchedPages","getNextPageToFetch","App","setBodyBackgroundColor","document","body","Boolean","window","location","hostname","GlobalStyles","createGlobalStyle","middlewares","push","thunk","middleware","compose","applyMiddleware","getInitialState","lastSavedTheme","getItem","rootReducer","combineReducers","configureStore","initialState","createStore","reducer","store","ReactDOM","render","getElementById","renderApp","navigator","serviceWorker","ready","registration","unregister","console","message"],"mappings":"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","file":"static/js/main.7ac5c4c5.chunk.js","sourcesContent":["export const mobile = '@media only screen and (max-width: 480px)';\nexport const tablet = '@media only screen and (max-width: 768px)';\nexport const monitor = '@media only screen and (min-width: 1440px)';","import styled from 'styled-components';\nimport { tablet } from 'styles/mediaQueries';\n\nexport const Wrapper = styled.div`\n  width: 50%;\n  margin-left: auto;\n  margin-right: auto;\n  height: 100%;\n  overflow: hidden;\n  padding-bottom: 200px;\n  ${tablet} {\n    width: 96%;\n  }\n`;\n\n","import styled from 'styled-components'\n\n// Header, Link, Logo, Nav, Action \n\nconst HEADER_HEIGHT = 60;\nconst LOGO_WIDTH = 36;\nconst LOGO_HEIGHT = 36;\nconst ACTION_BUTTON_FONT_SIZE = 14;\n\nexport const Header = styled.header`\n    background-color: ${({ theme }) => theme.background.secondary};\n    height: ${HEADER_HEIGHT}px;\n    width: 100%;\n    display: flex;\n    padding: 12px;\n    border-bottom: solid 1px ${({ theme }) => theme.border};\n`;\n\nexport const Title = styled.h1`\n  color: ${({ theme }) => theme.text.primary};\n  font-size: 24px;\n  font-weight: 300;\n  display: flex;\n  text-align: center;\n  align-items: center;\n  margin-left: 5px;\n`;\n\nexport const Link = styled.a`\n    display: flex;\n`;\n\nexport const Nav = styled.div`\n    display: flex;\n    margin-left: auto;\n    order: 2;\n\n`;\n\nexport const Action = styled.div`\n    display: flex;\n    cursor: pointer;\n    font-size: ${ACTION_BUTTON_FONT_SIZE}px;\n    color: ${({ theme }) => theme.text.secondary};\n    align-items: center;\n    text-align: center;\n    padding-right: 10px;\n`;\n\n\nexport const Logo = styled.svg`\n    width: ${LOGO_WIDTH}px;\n    height: ${LOGO_HEIGHT}px;\n    fill: ${({ theme }) => theme.logo.color};\n`;","\nexport const darkTheme = {\n  name: 'dark',\n  background: {\n    primary: '#000',\n    secondary: '#0d0a08'\n  },\n\n  text: {\n    primary: '#bfbebe',\n    secondary: '#848886',\n    disabled: ''\n  },\n\n  hot: {\n    primary: '#ff0000',\n    secondary: '#af0404',\n  },\n\n  warning: {\n    primary: '#bfbebe',\n    secondary: '#848886'\n  },\n\n  error: {\n    primary: '#bfbebe',\n    secondary: '#848886'\n  },  \n\n  border: '#272727',\n  logo: {\n    color: '#f57b51',\n  },\n\n  chatbox: {\n    background: '#331400'\n  },\n\n  hover: {\n    brightness: '200%',\n    linkColor: '',\n  }\n};\n  \nexport const lightTheme = {\n  name: 'light',\n  background: {\n    primary: '#f9f9f9',\n    secondary: '#f3f3f3'\n  },\n\n  text: {\n    primary: '#000000',\n    secondary: '#0f4c81',\n    disabled: '',\n    primaryHover:  '#ff0000',\n  },\n  hot: {\n    primary: '#ff0000',\n    secondary: '#af0404',\n  },\n\n  warning: {\n    primary: '#bfbebe',\n    secondary: '#848886'\n  },\n\n  error: {\n    primary: '#bfbebe',\n    secondary: '#848886'\n  },  \n\n  border: '#272727',\n\n  logo: {\n    color: '#f57b51',\n  },\n\n  chatbox: {\n    background: '#fff0f0',\n  },\n  \n  hover: {\n    brightness: '95% ',\n    linkColor: '#ff0000 !important',\n  }\n\n};\n\nexport const themes = {\n  'dark': darkTheme,\n  'light': lightTheme,\n}","\nconst NS = '@hsReader/app';\n\nexport const LOCAL_STORAGE_PREFERENCE_THEME = 'preferences.theme'\n\nexport const actionTypes = {\n    SET_THEME: `${NS}/SET_THEME`\n};\n\nconst actions = {\n    setTheme: (payload = {}) => {\n        const { theme } = payload;\n        localStorage.setItem(LOCAL_STORAGE_PREFERENCE_THEME, theme.name);\n        return { type: actionTypes.SET_THEME, payload }\n    },\n};\n\nexport default actions;","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\n\nimport { Header, Link, Logo, Nav, Action, Title } from './styles'\nimport { themes } from 'styles/palette'\nimport  actions from 'store/app/actions'\nimport { FaRegMoon, FaRegSun } from 'react-icons/fa';\n\nclass NavBar extends Component {\n    constructor() {\n        super();\n        this.toggleTheme = this.toggleTheme.bind(this);\n    }\n\n    toggleTheme(evt) {\n        const { theme, setTheme } = this.props;\n        if (theme.name === themes.dark.name) {\n            setTheme(themes.light);\n        } else {\n            setTheme(themes.dark);\n        }\n    }\n\n    render() {\n        const {theme} = this.props;\n        return (\n            <Header>\n                <Link href='/'>\n                     <Logo viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\" >\n                        <path d=\"M20.496 9.026c-2.183-.93-5.116-1.53-8.25-1.695-.5-.03-.987-.04-1.45-.04 2.318-2.83 4.802-4.73 6.437-4.79.322-.013.595.055.813.196.706.458.905 1.768.545 3.59-.04.25.12.493.36.54.25.05.49-.11.54-.36.45-2.28.12-3.846-.94-4.538-.38-.248-.84-.365-1.35-.346-2.05.077-4.94 2.3-7.59 5.72-1.154.035-2.24.13-3.232.287-.646-2.897-.39-4.977.594-5.477.138-.073.285-.11.457-.124.697-.054 1.66.395 2.71 1.27.194.16.486.14.646-.06a.458.458 0 00-.06-.645C9.466 1.51 8.304 1 7.354 1.07a2.244 2.244 0 00-.803.22c-1.19.607-1.67 2.327-1.37 4.838.07.52.16 1.062.29 1.62C2.19 8.404.1 9.718.01 11.372c-.06 1.17.865 2.284 2.68 3.222a.46.46 0 10.42-.816C1.66 13.032.88 12.19.927 11.42c.05-1.08 1.772-2.19 4.76-2.78.27.994.62 2.032 1.05 3.09-1.018 1.888-1.756 3.747-2.137 5.4-.56 2.465-.26 4.22.86 4.948.36.234.78.35 1.247.35.935 0 2.067-.46 3.347-1.372a.458.458 0 10-.53-.746c-1.544 1.103-2.844 1.472-3.562 1.003-.76-.495-.926-1.943-.46-3.976.32-1.386.907-2.93 1.708-4.52.2.438.41.876.63 1.313 1.425 2.796 3.17 5.227 4.91 6.845 1.386 1.29 2.674 1.963 3.735 1.963.35 0 .68-.075.976-.223 1.145-.585 1.64-2.21 1.398-4.575-.224-2.213-1.06-4.91-2.354-7.6a.46.46 0 00-.83.396c2.69 5.602 2.88 10.19 1.37 10.96-1.59.813-5.424-2.355-8.39-8.18-.34-.655-.637-1.3-.9-1.93.34-.608.7-1.22 1.095-1.83.395-.604.806-1.188 1.224-1.745h.394c.54 0 1.126.01 1.734.048 6.53.343 10.975 2.56 10.884 4.334-.04.765-.924 1.538-2.425 2.12a.464.464 0 00-.26.596.455.455 0 00.593.262c1.905-.74 2.95-1.756 3.01-2.93.07-1.33-1.17-2.61-3.5-3.6v-.01zM8.08 9.45c-.27.415-.52.827-.764 1.244a23.66 23.66 0 01-.723-2.215c.713-.11 1.485-.19 2.31-.24-.28.39-.554.794-.82 1.21v-.01zm3.925 1.175a1.375 1.375 0 100 2.75 1.375 1.375 0 100-2.75z\"></path>\n                    </Logo>   \n                </Link>\n                <Title>Hackernews Alternative UI</Title>  \n           \n                <Nav>\n                    {theme.name === themes.dark.name ?\n                        (<Action onClick={this.toggleTheme}>\n                            <FaRegSun/>\n                        </Action>) : \n                        (<Action onClick={this.toggleTheme}>\n                            <FaRegMoon/>\n                        </Action>)\n                    }\n                </Nav>                \n            </Header>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    theme: state.app.theme,\n})\n\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        setTheme: (theme) => dispatch(actions.setTheme({theme})),\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NavBar)\n","import styled from 'styled-components';\n\nexport const StoryPagesCollectionWrapper = styled.div`\n  background-color: ${({ theme }) => theme.backgroundSecondary};\n\n`;","import styled, { keyframes, css } from 'styled-components';\n\n\nconst blink = keyframes`\n  /**\n  * At the start of the animation the dot\n  * has an opacity of .2\n  */\n  0% {\n    opacity: .2;\n  }\n  /**\n  * At 20% the dot is fully visible and\n  * then fades out slowly\n  */\n  20% {\n    opacity: 1;\n  }\n  /**\n  * Until it reaches an opacity of .2 and\n  * the animation can start again\n  */\n  100% {\n    opacity: .2;\n  }\n`;\n\n\nexport const AnimitedBlink = css`\n  /**\n   * Use the blink animation, which is defined above\n   */\n  animation-name: ${blink};\n  /**\n   * The total time of animation\n   */\n  animation-duration: 1s;\n  /**\n   * It will repeat itself forever\n   */\n  animation-iteration-count: infinite;\n  /**\n   * This makes sure that the starting style (opacity: .2)\n   * of the animation is applied before the animation starts.\n   * Otherwise we would see a short flash or would have\n   * to set the default styling of the dots to the same\n   * as the animation. Same applies for the ending styles.\n   */\n  animation-fill-mode: both;\n\n  &:nth-child(2) {\n    animation-delay: 0.2s;\n  }\n\n  &:nth-child(3) {\n    animation-delay: 0.4s;\n  }\n`;\n\n\nexport const Animation = styled.div`\n  text-align: center;\n  span {\n    color: ${({ theme }) => theme.text.secondary};\n    display: inline-block;\n    margin-left: 4px;\n    margin-right: 4px;\n    font-size: 80px;\n    line-height: 0.1;\n\n    ${AnimitedBlink}  \n  };\n`;","import styled from 'styled-components';\n\nexport const StoryPageWrapper = styled.ul`\n  background-color: ${({ theme }) => theme.backgroundSecondary};\n  border-radius: 4px;\n  margin-left: auto;\n  margin-right: auto;\n  margin-bottom: 20px;\n  display: flex;\n  flex-direction: column;\n\n  margin-before: 1em;\n  margin-after: 1em;\n  margin-start: 0;\n  margin-end: 0;\n  margin:0; \n\n`;\n\n","import styled, {css} from 'styled-components';\nimport { AnimitedBlink } from 'components/Loader/styles'\nimport { mobile, tablet } from 'styles/mediaQueries';\n\nexport const BoxScore = styled.div`\n  font-size: 12px;\n  color: ${({ theme }) => theme.hot.primary};\n`;\n\nexport const HotBox = styled.div`\n  min-width: 80px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;  \n  color: ${({ theme }) => theme.hot.primary};\n  flex-direction: column;\n  background-color: ${({ theme }) => theme.background.secondary};\n  padding: 14px;\n\n  ${tablet} {\n    min-width: 60px;\n    padding: 11px;\n  }\n`;\n\nexport const ChatBox = styled.div`\n  background-color: ${({ theme }) => theme.chatbox.background};\n\n  color: #ff6600;\n  margin-top: 5px;\n\n  display: inline-block;\n  border-radius: 10%;\n  padding: 1px 6px;\n  text-align: center;\n  font-style: normal;\n  font-size: 12px;\n  line-height: 1.45;\n\n  ${tablet} {\n    line-height: 1;\n    font-size: 11px;\n  }\n\n  &:after {\n    margin-top: -.13rem;\n    margin-left: .07rem;\n    border-width: .6rem .66rem 0 0;\n  }\n`;\n\n\nexport const ContentBox = styled.div`\n  display: flex;\n  flex-direction: column;\n  padding-left: 14px;\n  justify-content: center;\n  flex: 1;\n\n  ${tablet} {\n    padding-left: 12px;\n  }\n\n`;\n\nexport const StoryListItem = styled.li`\n  border-bottom: 1px solid ${({ theme }) => theme.border};\n  border-top: 1px solid ${({ theme }) => theme.border};\n\n  flex-flow: row wrap;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n\n  ${({ bogusLoader }) => bogusLoader && \n   css`${AnimitedBlink}`\n  }\n\n  &:hover {\n    filter: brightness(${({ theme }) => theme.hover.brightness});\n  }\n`;\n\nexport const Title = styled.h3`\n  color: ${({ theme }) => theme.text.primary};\n  margin-top: 0;\n  margin-bottom: 6px;\n  font-weight: 400;\n  font-size: 16px;\n  letter-spacing: 0.4px;\n  margin-right: 5px;\n\n\n  ${tablet} {\n    font-size: 13px;\n  }\n`;\n\nexport const Host = styled.span`\n  color: ${({ theme }) => theme.text.secondary};\n  font-size: 12px;\n\n  ${tablet} {\n    font-size: 11px;\n  }`;\n\nexport const ExternalLink = styled.a`\n  color: ${({ theme }) => theme.text.primary};\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  text-decoration: none;\n\n  &:hover {\n    color: ${({ theme }) => theme.hover.linkColor};\n    h1,h2,h3,span {\n      color: ${({ theme }) => theme.hover.linkColor};\n    }\n  }\n\n`;\n\nexport const Description = styled.div`\n  font-size: 12px;\n  color: ${({ theme }) => theme.text.secondary};\n\n  ${tablet} {\n    font-size: 11px;\n  }\n`;\n\n\nexport const SimpleLink = styled.a`\n  color: ${({ theme }) => theme.text.secondary};\n  &:visited {\n    color: ${({ theme }) => theme.text.secondary};\n  }\n`;\n\nexport const CommentLink =  styled.div`\ncolor: ${({ theme }) => theme.text.secondary};\n\n`;\n","import axios from 'axios'\n\n\nconst API_ROOT = process.env.URL || 'http://localhost:3000';\nconst TIMEOUT = 20000;\nconst HEADERS = {\n    'Content-Type': 'application/json',\n    'Accept': 'application/json',\n}\n\nclass ApiService {\n    constructor({ baseURL = API_ROOT, timeout = TIMEOUT, headers = HEADERS, auth }) {\n        const client = axios.create({\n          baseURL,\n          timeout,\n          headers,\n          auth,\n        });\n    \n        client.interceptors.response.use(this.handleSuccess, this.handleError);\n        this.client = client;\n      }\n    \n    handleSuccess(response) {\n        return response;\n    }\n\n    handleError(error) {\n        return Promise.reject(error);\n    }\n\n    get(path) {\n        return this.client.get(path).then(response => response.data);\n    }\n\n    post(path, payload) {\n        return this.client.post(path, payload).then(response => response.data);\n    }\n\n    put(path, payload) {\n        return this.client.put(path, payload).then(response => response.data);\n    }\n\n    patch(path, payload) {\n        return this.client.patch(path, payload).then(response => response.data);\n    }\n\n    delete(path) {\n        return this.client.delete(path).then(response => response.data);\n    }\n}\n\nexport default ApiService;","import ApiService from \"./API\"\n\nconst BASE_URL = 'https://hacker-news.firebaseio.com/v0';\nconst API_POST_FIX = '.json?print=pretty';\n\nconst PAGE_LIMIT = 20\nconst API_CLIENT = new ApiService({baseURL: BASE_URL})\n\nexport const PAGE_STATUS = { TO_FETCH: \"toFetch\", FETCHING: 'fetching', FETCHED: 'fetched' };\n\nconst hackerNewsApi = {\n  fetchTopStoriesIDs: () => {\n    return API_CLIENT.get(`${BASE_URL}/topstories${API_POST_FIX}`);\n  },\n\n  fetchStory: (id) => {\n    return API_CLIENT.get(`${BASE_URL}/item/${id}/${API_POST_FIX}`);\n  },\n\n  getPageStoryIDs: (ids, page) => {\n    const {start, end} = hackerNewsApi.getPageRange(PAGE_LIMIT, page);\n    const pageIDs = hackerNewsApi.getPageItems(ids, start, end);\n    return pageIDs;\n  },\n\n  fetchStoriesByPage: (ids, page) => {\n    const pageIDs = hackerNewsApi.getPageStoryIDs(ids, page)\n    if (pageIDs) {      \n      const storyPromises = pageIDs.map(id => hackerNewsApi.fetchStory(id));\n      return Promise.all(storyPromises);\n    } else {\n      return Promise.resolve([]);;\n    }\n  },\n\n  fetchStoriesIdsAsync: (storyIDs) => {\n    const storyPromises = storyIDs.map(id => hackerNewsApi.fetchStory(id));\n    return storyPromises;\n  },\n\n\n  splitStoryIDsIntoPages: (storyIDs, chunkSize) => {\n    const pageSize = chunkSize  || PAGE_LIMIT;\n    const pages = storyIDs.map( (item, idx) => (idx % pageSize === 0) ? storyIDs.slice(idx, idx+pageSize) : null)\n      .filter((e) => e).map((pageStoryIDs, pageIndex) => {\n        return {\n          index: pageIndex,\n          storyIDs: pageStoryIDs,\n          status: PAGE_STATUS.TO_FETCH,\n        }\n      });\n    return pages;\n  },\n\n  getPageRange: (limit, page=0) => {\n    return {start: limit*page, end:limit*(page+1)};\n  },\n\n  getPageItems: (items, start, end) => {\n    return items.slice(start, end);\n  },\n\n  getUserDetailLink: (userID) => {\n    return `https://news.ycombinator.com/user?id=${userID}`\n  },\n\n  getStoryCommentURL: (storyID) => {\n    return `https://news.ycombinator.com/item?id=${storyID}`\n  },\n}\n\nexport default hackerNewsApi;","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\n\nimport timeago from 'epoch-timeago';\n\nimport { ExternalLink, Title, StoryListItem, SimpleLink, BoxScore, Host, CommentLink, Description, HotBox, ContentBox, ChatBox } from './styles'\nimport { getHostFromURL } from 'utils/Utils'\nimport hackernewsAPI from 'services/hackernewsAPI'\n\n\nclass StoryItem extends Component {\n    render() {\n        const {story, bogusLoader} = this.props;\n        const postedTime = story.time*1000;\n        const domainHost = getHostFromURL(story.url);\n        const commentURL = hackernewsAPI.getStoryCommentURL(story.id);\n        return (\n            <StoryListItem  bogusLoader={bogusLoader}>\n                <ExternalLink href={commentURL}>\n                <HotBox>\n                    <BoxScore href={commentURL} rel=\"nofollow noreferrer noopener\" target=\"_blank\">{story.score}</BoxScore>\n                    <ChatBox>\n                        <CommentLink href={commentURL} rel=\"nofollow noreferrer noopener\" target=\"_blank\">{' '}\n                            {story.descendants}\n                        </CommentLink>\n                    </ChatBox>\n                   \n                </HotBox>\n                </ExternalLink>\n                <ContentBox>\n                    <ExternalLink href={story.url} rel=\"nofollow noreferrer noopener\" target=\"_blank\">\n                        <Title>\n                            {story.title} \n                        </Title>\n                        \n                    </ExternalLink>\n                    <Description>                 \n\n                        <SimpleLink href={hackernewsAPI.getUserDetailLink(story.by)} rel=\"nofollow noreferrer noopener\" target=\"_blank\">\n                        {story.by} {' | '}\n                        </SimpleLink>\n                        <time dateTime={new Date(postedTime).toISOString()}>{timeago(postedTime)}</time>   \n                        {domainHost && <Host>{' | '} {domainHost}</Host> }                   \n                    </Description>\n                </ContentBox>\n                \n                \n            </StoryListItem>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => ({\n})\n\nconst mapDispatchToProps = {\n    \n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(StoryItem)\n\n","\n\nexport const getHostFromURL = (url) => {\n    let domain = undefined;\n    if (url) {\n        const urlMatches = url.match(/^https:\\/\\/([^/?#]+)(?:[/?#]|$)/i);\n        domain = urlMatches && urlMatches[1];  // domain will be null if no match is found\n    }\n   \n    return domain;\n}","import React, { Component } from 'react'\n\nimport StoryItem from 'components/Stories/StoryItem'\n\n\nclass StoryBatch extends Component {\n    render() {\n        const { stories, bogusLoader } = this.props;\n        return (       \n            <React.Fragment>\n                {stories && stories.map(story => (\n                    <StoryItem key={story.id} story={story} bogusLoader={bogusLoader}></StoryItem>\n                ))}\n            </React.Fragment>\n        )\n    }\n}\n\nexport default StoryBatch","\nimport hackerNewsApi from 'services/hackernewsAPI';\n\nconst NS = `@hnReader/Story`\nexport const actionTypes = {\n    FETCH_TOP_STORY_IDS_REQUEST: `${NS}/FETCH_TOP_STORY_IDS_REQUEST`,\n    FETCH_TOP_STORY_IDS_SUCCESS: `${NS}/FETCH_TOP_STORY_IDS_SUCCESS`,\n    FETCH_TOP_STORY_IDS_FAILURE: `${NS}/FETCH_TOP_STORY_IDS_FAILURE`,\n\n    FETCH_PAGE_STORIES_REQUEST: `${NS}/FETCH_PAGE_STORIES_REQUEST`,\n    FETCH_PAGE_STORIES_SUCCESS: `${NS}/FETCH_PAGE_STORIES_SUCCESS`,\n    FETCH_PAGE_STORIES_FAILURE: `${NS}/FETCH_PAGE_STORIES_FAILURE`,\n\n    FETCH_PAGE_STORIES_BATCH_REQUEST: `${NS}/FETCH_PAGE_STORIES_BATCH_REQUEST`,\n    FETCH_PAGE_STORIES_BATCH_SUCCESS: `${NS}/FETCH_PAGE_STORIES_BATCH_SUCCESS`,\n    FETCH_PAGE_STORIES_BATCH_FAILURE: `${NS}/FETCH_PAGE_STORIES_BATCH_FAILURE`,\n\n    RELOAD_STORIES: `${NS}/RELOAD_STORIES`,\n}\n\nconst defaultAction = (type, payload) => ({type, payload});\nexport const BATCH_SIZE = 5;\n\nconst actions = {\n\n    reloadStories: (payload={}) => {\n        return dispatch => {\n            dispatch(defaultAction(actionTypes.RELOAD_STORIES, payload));            \n        }\n    },\n\n    fetchStoryPages: (payload={}) => {\n        const fetchFirstPage = {payload}\n        return dispatch => {\n            dispatch(defaultAction(actionTypes.FETCH_TOP_STORY_IDS_REQUEST, payload));\n            return hackerNewsApi.fetchTopStoriesIDs()\n                .then(storyIDs => {\n                    const pages = hackerNewsApi.splitStoryIDsIntoPages(storyIDs);\n                    dispatch(defaultAction(actionTypes.FETCH_TOP_STORY_IDS_SUCCESS, {storyIDs, pages}));\n                    if (fetchFirstPage) {\n                        dispatch(actions.fetchStoriesForPage({storyIDs, pageIndex: 0}));\n                    }\n                })\n                .catch(err =>  {\n                    dispatch(defaultAction(actionTypes.FETCH_TOP_STORY_IDS_FAILURE, err));\n                });\n        }\n    },\n\n    fetchStoriesForPage: (payload={}) => {\n        return dispatch => {\n            dispatch(defaultAction(actionTypes.FETCH_PAGE_STORIES_REQUEST, payload));\n            const {storyIDs, pageIndex} = payload;            \n            const pageIDs = hackerNewsApi.getPageStoryIDs(storyIDs, pageIndex);\n            \n            const batchSize = 20;\n            const storyIDsBatches = pageIDs.map((item, idx) => (idx % batchSize === 0) ? pageIDs.slice(idx, idx + batchSize) : null)\n                .filter((e) => e);\n            const pageBatchesPromises = storyIDsBatches.map(storyIDS => hackerNewsApi.fetchStoriesIdsAsync(storyIDS));\n            dispatch(defaultAction(actionTypes.FETCH_PAGE_STORIES_REQUEST, payload));\n\n            let stories = [];\n            return pageBatchesPromises.reduce((promiseChain, currentBatchPromises) => {\n                return promiseChain.then(chainResults =>\n                    {\n                        dispatch(defaultAction(actionTypes.FETCH_PAGE_STORIES_BATCH_REQUEST, payload ));                    \n                        return Promise.all(currentBatchPromises).then(currentResult => {\n                            stories = [...stories, ...currentResult];\n                            dispatch(defaultAction(actionTypes.FETCH_PAGE_STORIES_BATCH_SUCCESS, {...payload, stories: stories} ));    \n                        })\n                    }                    \n                );\n            }, Promise.resolve([])).then(arrayOfResults => {\n                dispatch(defaultAction(actionTypes.FETCH_PAGE_STORIES_SUCCESS, {...payload, stories: stories} ));    \n                return Promise.resolve(stories);\n            });\n        };\n    }\n}\n\nexport default actions;","\nimport { PAGE_STATUS } from 'services/hackernewsAPI'\n\nimport { BATCH_SIZE } from 'store/story/actions'\n\nexport default class Utils {\n    \n    static getNextPageToFetch(pages) {\n        const toFetchPage = pages.find(page => page.status !== PAGE_STATUS.FETCHED)\n        if (toFetchPage) {\n            return toFetchPage.index;\n        } else {\n            return -1;\n        }\n    }\n\n    static getFetchedPages (pages) {\n        return pages.filter(page => page.status === PAGE_STATUS.FETCHED )\n    }  \n    \n    static getPageBatches (page) {\n        const batches = page.stories.map( (item, idx) => (idx % BATCH_SIZE === 0) ? page.stories.slice(idx, idx + BATCH_SIZE) : null)\n        .filter((e) => e)\n        .map((batchStories, batchIndex) => {\n            return {\n                index: page.index*BATCH_SIZE + batchIndex,\n                batchStories: batchStories,\n            }\n        });\n        return batches;\n    }  \n}","import React, { Component } from 'react'\nimport { StoryPageWrapper } from './styles'\nimport StoryBatch from '../StoryBatch';\nimport Utils from 'store/story/utils'\n\nclass StoryPage extends Component {\n\n    render() {\n        const { page, bogusLoader } = this.props;\n        const batches = Utils.getPageBatches(page);\n        return (     \n          <StoryPageWrapper bogusLoader={bogusLoader}>\n              { batches && batches.map(batch => (\n                    <StoryBatch stories={batch.batchStories} key={batch.index} bogusLoader={bogusLoader}>\n                    </StoryBatch>\n               ))}\n          </StoryPageWrapper> \n        )\n    }\n}\n\nexport default StoryPage;","import React from 'react';\n\nimport { Animation } from './styles';\nimport StoryPage from '../Stories/StoryPage';\n\nconst Loader = () => {\n  const bogusStories = [\n    {\n      \"by\" : \"friggeri\",\n      \"descendants\" : 112,\n      \"id\" : 5789055,\n      \"kids\" : [ 5789971, 5789326, 5789357, 5789716, 5790924, 5790012, 5789187, 5789315, 5789775, 5789490, 5790055, 5790088, 5789421, 5789829, 5789509, 5793681, 5791776, 5791916, 5791185, 5789474, 5791695, 5790082, 5789343, 5790403, 5790214, 5794696, 5789316, 5791466, 5790218, 5789261, 5790066, 5790413, 5789754, 5789638, 5789404, 5789284, 5790033 ],\n      \"score\" : 3287,\n      \"time\" : 1369861238,\n      \"title\" : \"Fetching from Hackernews API....\",\n      \"type\" : \"story\",\n      \"url\" : \"http://facebook.github.io/react/\"\n    },\n    {\n      \"by\" : \"dmmalam\",\n      \"descendants\" : 2530,\n      \"id\" : 11966167,\n      \"kids\" : [ 11967528, 11966471, 11967359, 11966219, 11966660, 11966872, 11966390, 11968264, 11967208, 11966468, 11967068, 11966221, 11970411, 11966220, 11968226, 11966296, 11966204, 11966983, 11966242, 11967692, 11969513, 11969017, 11966661, 11967554, 11966425, 11967394, 11968081, 11966355, 11966677, 11967835, 11966281, 11968458, 11971783, 11966985, 11970201, 11966420, 11966209, 11966408, 11966349, 11970290, 11966217, 11966912, 11966521, 11966925, 11968703, 11966435, 11967330, 11971812, 11968155, 11966215, 11967304, 11966669, 11967248, 11966467, 11967374, 11966216, 11969565, 11967795, 11966782, 11967481, 11966556, 11967045, 11966612, 11966651, 11966213, 11966398, 11966333, 11971213, 11968586, 11966871, 11967743, 11967029, 11979365, 11967905, 11968604, 11969049, 11966210, 11967814, 11968785, 11966735, 11966913, 11967972, 11966756, 11967454, 11969389, 11967105, 11967083, 11967239, 11967336, 11968472, 11966198, 11967453, 11966312, 11976841, 11968027, 11972149, 11966264, 11972203, 11967667, 11970413, 11974236, 11966347, 11967489, 11973273, 11968667, 11969189, 11967651, 11969132, 11969563, 11966751, 11966524, 11967499, 11970248, 11966526, 11967378, 11976081, 11967361, 11975951, 11977103, 11969184, 11972433, 11967837, 11971557, 11969792, 11969047, 11966791, 11971060, 11966642, 11967346, 11975907, 11966436, 11966340, 11966237, 11967211, 11967103, 11966980, 11968231, 11966539, 11966586, 11971294, 11970941, 11969465, 11966380, 11968082, 11966341, 11966845, 11967730, 11972855, 11967198, 11966944, 11971093, 11966330, 11966717, 11975804, 11970356, 11966315, 11967820, 11968254, 11975140, 11967139, 11966597, 11967100, 11971471, 11967792, 11970238, 11966332, 11970932, 11971393, 11969300, 11967925, 11966793, 11967895, 11968523, 11966692, 11966873, 11966386, 11966223, 11966316, 11967645, 11966206, 11967418, 11970580, 11966357, 11969567, 11966874, 11968143, 11970166, 11973224, 11970209, 11967230, 11966186, 11968671, 11967371, 11966396, 11968114, 11970047, 11970360, 11966376, 11966265, 11970378, 11971928, 11967512, 11966962, 11966511, 11966278, 11967061, 11966655, 11967575, 11966268, 11966488, 11966202, 11966923, 11967875, 11971458, 11968383 ],\n      \"score\" : 3125,\n      \"time\" : 1466740137,\n      \"title\" : \"Please hang tight...\",\n      \"type\" : \"story\",\n      \"url\" : \"http://www.bbc.co.uk/news/uk-politics-36615028\"\n    },\n    {\n      \"by\" : \"epaga\",\n      \"descendants\" : 967,\n      \"id\" : 11116274,\n      \"kids\" : [ 11116340, 11116609, 11119426, 11116432, 11117062, 11117214, 11116419, 11116480, 11116439, 11116651, 11116525, 11116462, 11122380, 11117385, 11116542, 11120377, 11117890, 11119452, 11118960, 11119308, 11116487, 11116700, 11116427, 11118301, 11116387, 11117411, 11120879, 11118697, 11117922, 11118121, 11120422, 11120918, 11121071, 11116499, 11123471, 11119229, 11119514, 11116767, 11116349, 11123864, 11118742, 11118640, 11117308, 11116510, 11117866, 11116968, 11121906, 11117278, 11116865, 11116475, 11119003, 11119924, 11120087, 11117363, 11117413, 11117249, 11117243, 11116629, 11117211, 11118884, 11120497, 11118174, 11118005, 11117765, 11120138, 11117088, 11116763, 11120546, 11123291, 11119661, 11116563, 11120604, 11120385, 11117739, 11121213, 11122828, 11127064, 11116672, 11119947, 11127045, 11123899, 11123712, 11117440, 11120853, 11117737, 11119071, 11116915, 11118990, 11117359, 11120072, 11117812, 11118138, 11117726, 11116813, 11120571, 11120773, 11119133, 11123568, 11116997, 11120611, 11116592, 11117679, 11123578, 11122930, 11116729, 11117967, 11120858, 11119742, 11118502, 11119100, 11116911, 11116798, 11117431, 11116457, 11123082, 11117920, 11116917, 11121373, 11117403, 11121048, 11119158, 11116711, 11117222, 11117064, 11117988, 11119614, 11122143, 11116642, 11117644, 11117910, 11119439, 11120849, 11118938, 11119380, 11122934, 11123105, 11118550, 11121862, 11116830, 11121636, 11117542, 11117427, 11123593, 11118021, 11116435, 11117409, 11118955, 11117289, 11118251, 11120035, 11163561, 11121418, 11122030, 11119139, 11123748, 11116998, 11116993, 11120590, 11122188, 11118088, 11122577, 11116716, 11117869, 11117666, 11116954, 11119462, 11117757, 11164319, 11117671, 11121509, 11123838, 11116796, 11116938, 11123799, 11122133, 11116693, 11122394, 11121841, 11125127, 11116667, 11117865, 11119237, 11117425, 11116473, 11120467, 11117395, 11116496, 11116635, 11120132, 11164284, 11116615, 11117111, 11123115, 11123958, 11121222, 11119212, 11117524, 11116610, 11119389, 11119519, 11119497, 11117547, 11117500, 11121408, 11117364, 11121824, 11118578, 11118907, 11120173, 11119660, 11117219, 11116394, 11123392, 11116451, 11118025, 11119222, 11119040, 11116789, 11117899, 11116495, 11116382, 11118385, 11116403, 11117210, 11116433 ],\n      \"score\" : 5771,\n      \"time\" : 1455698317,\n      \"title\" : \"Almost there...\",\n      \"type\" : \"story\",\n      \"url\" : \"http://www.apple.com/customer-letter/\"\n    },\n  ]\n\n  const bogusPage = {\n    index: 0,\n    storyIDs: bogusStories.map(story => (story.id)),\n    status: 'fetched',\n    stories: bogusStories,\n  }\n  \n  return <div>\n    <StoryPage page={bogusPage} bogusLoader={true}>\n\n    </StoryPage>\n    <Animation>\n      <span>.</span>\n      <span>.</span>\n      <span>.</span>\n    </Animation>\n  </div>\n\n} \n  \nexport default Loader;","import { createSelector } from \"reselect\";\nimport { PAGE_STATUS } from 'services/hackernewsAPI'\n\n\nconst fetchedPagesSelector = state => {\n  const { pages } = state.story;\n\n    if (pages) {\n      return pages.filter(page => page.status === PAGE_STATUS.FETCHED).map(page => (page.index));\n    } else {\n      return 0;\n    }\n}\n\nconst totalPages = state => {\n  const { pages } = state.story;\n  if (pages) {\n    return pages.map(page => (page.index));\n  } else {\n    return 0;\n  }\n  \n}\n\nexport const hasMorePagesSelector = createSelector( \n  totalPages,\n  fetchedPagesSelector,\n  (totalPages, fetchedPages)  => \n  {\n      return totalPages.length > fetchedPages.length;\n  }\n);","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { StoryPagesCollectionWrapper } from './styles'\nimport Loader from 'components/Loader'\n\nimport actions from 'store/story/actions'\nimport Utils from 'store/story//utils'\n\nimport { hasMorePagesSelector } from 'store/story/selectors'\n\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport StoryPage from '../StoryPage'\n\n\nclass StoryPagesCollection extends Component {\n\n    constructor() {\n        super();\n        this.fetchNextPage = this.fetchNextPage.bind(this);\n        this.refreshData = this.refreshData.bind(this);\n    }\n\n    // override zones\n    componentDidMount() {\n        const { pagesFetched, fetchStoryPages } = this.props;\n        if (!pagesFetched) {\n            fetchStoryPages();\n        } \n    }\n\n    componentDidUpdate() {\n\n    }\n\n    fetchNextPage(evt) {\n        const { nextPageToFetch, fetchStoriesForPage, storyIDs } = this.props;\n        if (nextPageToFetch >= 0) {\n            fetchStoriesForPage(storyIDs, nextPageToFetch);\n        } \n    } \n\n    refreshData() {\n        const { fetchStoryPages, reloadStories } = this.props;\n        reloadStories();\n        fetchStoryPages();\n    }\n\n    render() {\n        const { pagedStoriesFetched, hasMorePages } = this.props;\n        return (     \n            <InfiniteScroll\n                dataLength={pagedStoriesFetched.length}\n                next={this.fetchNextPage}\n                hasMore={hasMorePages}\n                loader={<Loader />}\n\n                refreshFunction={this.refreshData}\n                pullDownToRefresh={true}\n                style={{height: '100%', overflowY: 'hidden',}}    \n                        >\n                { pagedStoriesFetched && pagedStoriesFetched.map(page => {                            \n                    return <StoryPage  key={page.index} page={page}/>\n                })}\n            </InfiniteScroll>          \n        )\n    }\n}\n\n\nconst mapStateToProps = (state) => {\n    const storyReducer = state.story;\n\n    const { pages } = storyReducer;\n    return { \n        theme: state.app.theme,\n        storyIDs: storyReducer.storyIDs, \n        hasMorePages: hasMorePagesSelector(state),\n        isFetching: storyReducer.isFetching,\n        pagedStoriesFetched: Utils.getFetchedPages(pages),\n        nextPageToFetch: Utils.getNextPageToFetch(pages),\n        pagesFetched: storyReducer.pagesFetched,\n        pages: storyReducer.pages,\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        fetchStoriesForPage: (storyIDs, pageIndex) =>  dispatch(actions.fetchStoriesForPage({storyIDs, pageIndex})),    \n        fetchStoryPages: () => dispatch(actions.fetchStoryPages({fetchFirstPage: true})),\n        reloadStories: () => dispatch(actions.reloadStories()),\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(StoryPagesCollection)\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { ThemeProvider } from 'styled-components'\n\nimport { Wrapper,  } from './style.js'\nimport NavBar from 'components/Navigation'\nimport StoryPagesCollection from 'components/Stories/StoryPagesCollection'\n\nclass App extends Component {\n    \n    render() {\n        const { theme } = this.props;\n        return (\n            <ThemeProvider theme={theme}>\n                <div>\n                    <Wrapper>\n                        <NavBar>\n                        </NavBar>\n\n                        <StoryPagesCollection/>\n                           \n                    </Wrapper>\n                </div>\n            </ThemeProvider>\n        )\n    }\n\n    componentDidMount() {\n        this.setBodyBackgroundColor()\n    }\n\n    componentDidUpdate() {\n        this.setBodyBackgroundColor()   \n    }\n\n    setBodyBackgroundColor() {\n        document.body.style = `background-color: ${this.props.theme.background.primary}`;\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return { \n        theme: state.app.theme,\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        \n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App)\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );  \n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { createGlobalStyle } from \"styled-components\";\n\n\n\nconst GlobalStyles = createGlobalStyle `\n    * {\n        box-sizing: border-box;\n    };\n\n    html, body {\n        font-family: Lato,Helvetica-Neue,Helvetica,Arial,sans-serif;\n        width: 100vw;\n        overflow-x: hidden;\n        margin: 0;\n        padding: 0;\n      }\n      ul {\n        list-style: none;\n        padding: 0;\n      }\n      a {\n        text-decoration: none;\n        &:visited {\n          color: inherit;\n        }\n      }\n`;\n\nexport default GlobalStyles;\n","import thunk from \"redux-thunk\";\nimport { createLogger } from \"redux-logger\";\nimport { compose, applyMiddleware } from \"redux\";\n\n\nconst isProd = process.env.NODE_ENV === 'production';\nconst middlewares = [];\n\nmiddlewares.push(thunk);\nif (!isProd) {\n    middlewares.push(createLogger());\n}\n\nconst middleware = compose(applyMiddleware(...middlewares));\nexport default middleware;","import { actionTypes, LOCAL_STORAGE_PREFERENCE_THEME } from './actions'\n\nimport { themes } from 'styles/palette';\n\nconst getInitialState = () => {\n    // maybe the one currently store in the local storage?\n    const lastSavedTheme = localStorage.getItem(LOCAL_STORAGE_PREFERENCE_THEME);\n\n    if (lastSavedTheme) {\n        return {theme: themes[lastSavedTheme]}\n    } else {\n        return {theme: themes.dark}\n    }\n}\n\nconst app = (state = getInitialState(), { type, payload }) => {\n    switch (type) {\n      case actionTypes.SET_THEME:\n          return {\n              ...state,\n              ...payload,\n          }\n      default:\n        return state;\n    }\n};\n  \nexport default app;","import { actionTypes } from './actions'\nimport { PAGE_STATUS } from 'services/hackernewsAPI'\n\nconst initialState = () => ({\n    storyIDs: [],\n    pages: [],\n    error: '',\n    isFetching: false,\n    pagesFetched: false,\n});\n\nconst story = (state=initialState(), { type, payload })  => {\n    switch (type) {\n        case actionTypes.RELOAD_STORIES:\n            {\n                return initialState();\n            }\n        case actionTypes.FETCH_TOP_STORY_IDS_REQUEST:\n            {\n                return {\n                    ...state,\n                    isFetching: true\n                }\n            }\n        case actionTypes.FETCH_PAGE_STORIES_BATCH_REQUEST:\n        case actionTypes.FETCH_PAGE_STORIES_REQUEST:\n            {\n                const {pageIndex} = payload;\n                state.pages[pageIndex].status = PAGE_STATUS.FETCHING;\n                return {\n                    ...state,\n                    isFetching: true\n                }\n            }\n        case actionTypes.FETCH_TOP_STORY_IDS_SUCCESS:\n            const { pages } = payload;\n            const pagesFetched = typeof pages !== 'undefined' && pages.length !== 0\n\n            return {\n                ...state,\n                ...payload,\n                isFetching: false,\n                pagesFetched: pagesFetched,\n            }\n            \n        case actionTypes.FETCH_PAGE_STORIES_BATCH_SUCCESS:\n        case actionTypes.FETCH_PAGE_STORIES_SUCCESS:\n            const {stories, pageIndex} = payload;\n            state.pages[pageIndex].stories = stories;\n            state.pages[pageIndex].status = PAGE_STATUS.FETCHED;\n            if (stories && stories.length > 0) {\n                return {\n                    ...state,\n                    isFetching: false,\n                }\n            } else {\n                return {\n                    ...state,\n                    isFetching: false,\n                }\n            }\n            \n        default:\n            return state;\n    }\n}\n\nexport default story;","import { combineReducers } from \"redux\";\n\nimport app from './app/reducer'\nimport story from 'store/story/reducer'\n\nconst rootReducer = combineReducers({\n    app, story\n})\n\nexport default rootReducer","import { createStore } from \"redux\"\nimport middleware from './middleware'\nimport reducer from './reducer'\n\nconst configureStore = initialState => {\n    const store = createStore(reducer, initialState, middleware);\n    return store;\n}\n\nexport default configureStore;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from 'components/App'\nimport * as serviceWorker from './serviceWorker';\n\nimport GlobalStyles from 'styles/globals'\nimport configureStore from './store';\nimport { Provider } from 'react-redux';\n\nconst renderApp = () => {\n    const store = configureStore();\n\n    if (process.env.NODE_ENV !== 'production') {\n    }\n\n    ReactDOM.render(\n        <Provider store={store}>\n        <div>\n            <GlobalStyles/>\n            <App />\n        </div>\n\n        </Provider>\n        , document.getElementById('root'));\n};\n\n\nrenderApp();\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}