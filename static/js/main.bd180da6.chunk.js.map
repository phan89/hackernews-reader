{"version":3,"sources":["styles/mediaQueries.js","components/App/style.js","utils/Utils.js","components/Navigation/styles.js","components/Settings/styles.js","styles/palette.js","store/app/actions.js","components/Settings/commonSettings.js","config/firebase/index.js","services/API.js","services/hackernewsAPI.js","store/story/actions.js","components/Settings/signedInSettings.js","store/auth/actions.js","components/Settings/signedOutSettings.js","store/auth/selectors.js","components/Auth/styles.js","components/Auth/signInScreen.js","components/Loader/styles.js","components/Loader/index.js","components/Settings/index.js","components/Navigation/index.js","store/story/utils.js","store/story/selectors.js","components/Stories/StoryPage/styles.js","components/Stories/StoryItem/styles.js","components/Stories/StoryItem/Actions/sharerPocket.js","components/Stories/StoryItem/Actions/bookmarkStory.js","components/Stories/StoryItem/storyActions.js","components/Stories/StoryItem/index.js","components/Stories/StoryBatch/index.js","components/Stories/StoryPage/index.js","components/Stories/StoryPagesCollection/index.js","components/App/index.js","serviceWorker.js","styles/globals.js","store/middleware.js","store/app/reducer.js","store/story/reducer.js","store/auth/reducer.js","store/reducer.js","store/index.js","index.js"],"names":["tablet","Wrapper","styled","div","LoaderWrapper","LoaderSize","isMobileOrTablet","a","check","navigator","userAgent","vendor","window","opera","test","substr","Header","header","theme","background","secondary","border","Title","h1","text","primary","Link","MainLink","Nav","Action","SettingsAction","Logo","svg","logo","color","DropdownMenuContainer","DropdownMenuOuterWrapper","mainMenuVisible","DropdownMenuInnerWrapper","box_shadow","DropdownMenu","ul","DropdownMenuItem","li","ActionLabel","span","themes","dark","name","disabled","hot","warning","error","chatbox","hover","brightness","linkColor","light","primaryHover","NS","actionTypes","SET_THEME","SHOW_MAIN_SETTINGS","SET_ACTIVE_STORY_SETTINGS","SET_PENDING_ACTIONS","appActions","setTheme","payload","localStorage","setItem","type","setSettingsMenuVisibility","setActiveStorySettings","setPendingActions","CommonSettingsComponents","toggleTheme","bind","evt","this","props","Fragment","onClick","Component","CommonSettings","connect","state","app","dispatch","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firestore","rrfConfig","userProfile","useFirestoreForProfile","enableClaims","API_ROOT","process","URL","HEADERS","Accept","BASE_URL","API_CLIENT","baseURL","timeout","headers","auth","client","axios","create","interceptors","response","use","handleSuccess","handleError","Promise","reject","path","get","then","data","post","put","patch","delete","PAGE_STATUS","hackerNewsApi","fetchTopStoriesIDs","fetchStory","id","getPageStoryIDs","ids","page","getPageRange","start","end","getPageItems","fetchStoriesByPage","pageIDs","storyPromises","map","all","resolve","fetchStoriesIdsAsync","storyIDs","splitStoryIDsIntoPages","chunkSize","pageSize","item","idx","slice","filter","e","pageStoryIDs","pageIndex","index","status","limit","items","getUserDetailLink","userID","getStoryCommentURL","storyID","FETCH_TOP_STORY_IDS_REQUEST","FETCH_TOP_STORY_IDS_SUCCESS","FETCH_TOP_STORY_IDS_FAILURE","FETCH_PAGE_BATCH_STORY_IDS_REQUEST","FETCH_PAGE_BATCH_STORY_IDS_SUCCESS","FETCH_PAGE_BATCH_STORY_IDS_FAILURE","FETCH_PAGE_BATCHES_REQUEST","FETCH_PAGE_BATCHES_SUCCESS","FETCH_PAGE_BATCHES_FAILURE","FETCH_PAGE_BATCH_STORIES_REQUEST","FETCH_PAGE_BATCH_STORIES_SUCCESS","RELOAD_STORIES","ADD_STORY_FAVORITE_SUCCESS","ADD_STORY_FAVORITE_FAILURE","REMOVE_STORY_FAVORITE_SUCCESS","REMOVE_STORY_FAVORITE_FAILURE","FETCH_STORIES_BOOKMARK_REQUEST","FETCH_STORIES_BOOKMARK_SUCCESS","FETCH_STORIES_BOOKMARK_FAILURE","LOAD_BOOKMARK_STORIES_SUCCESS","LOAD_BOOKMARK_STORIES_FAILURE","LOAD_BOOKMARK_STORIES_REQUEST","defaultAction","storyActions","reloadStories","fetchStoryPages","fetchFirstPage","pages","fetchBatchesForPage","catch","err","fetchBatchStoriesFromStoryIDs","batchStoryIDs","batchStoryPromises","batchStories","successPayload","getFirestoreBookmark","currentUserUID","uid","collection","doc","loadBookmarkStories","getState","Object","keys","story","favStories","fetchStoriesBookmark","getFirestore","querySnapshot","fetchedData","docs","fetchedFavStories","removeBookmarkStory","toString","addBookmarkStory","set","userUID","added","Date","SignedInSettingsComponent","signUserOut","fetchBookmarkStories","fetchTopStories","savedStoriesLoaded","signOut","setState","firebaseAuth","isFetching","displayName","SignedInSettings","storyReducer","UPDATE_AUTH_STATE","CLOSE_LOGIN_MODAL","OPEN_LOGIN_MODAL","authActions","SignedOutSettingsComponent","openLoginPrompt","openLoginModal","SignedOutSettings","loginModalOpen","isAuthLoadedSelector","isLoaded","authenticatedSelector","createSelector","isEmpty","isAutLoaded","hasAuth","authLoadedSelector","SignInModal","Modal","SignInScreen","closeLoginPrompt","closeLoginModal","uiConfig","signInFlow","signInOptions","GoogleAuthProvider","PROVIDER_ID","callbacks","signInSuccessWithAuthResult","isOpen","onBackgroundClick","onEscapeKeydown","allowScroll","onAuthChanged","unregisterAuthObserver","onAuthStateChanged","isAuthenticated","isAuthLoaded","firebaseReducer","user","blink","keyframes","AnimitedBlink","css","Animation","Loader","DoubleBounceLoader","DoubleBounce","MainSettingsMenuComponent","showSettingsMenu","hideSettingsMenu","isSignedIn","isSignedOut","onMouseEnter","onMouseLeave","MainSettingsMenu","firebaseProfile","profile","visible","NavBar","toggleSettingsMenu","isMobile","href","viewBox","xmlns","d","Utils","toFetchPage","find","stories","batchIndex","hasMorePagesSelector","totalPages","fetchedPages","length","StoryPageWrapper","backgroundSecondary","BoxScore","HotBox","ChatBox","ContentBox","StoryListItem","bogusLoader","h3","Host","ExternalLink","Description","SimpleLink","CommentLink","StoryActionsContainer","StoryActionButton","StoryActionsPanel","StoryActionItem","StoryActionItemLabel","label","SendToPocketAction","url","title","encodedURI","encodeURIComponent","encodedTitle","pocketShareURI","w","h","dualScreenLeft","undefined","screenLeft","screenX","dualScreenTop","screenTop","screenY","width","innerWidth","document","documentElement","clientWidth","height","innerHeight","clientHeight","systemZoom","screen","availWidth","left","top","newWindow","open","focus","openWindowsModal","BookmarkStoryComponent","addStoryBookmarkItem","removeStoryBookmarkItem","isFavouriteStory","BookmarkStoryAction","ownProps","isFavouriteLoaded","StoryItemActions","toggleStoryActions","showStoryActions","hideStoryActions","currentActiveStorySetting","externalURL","hackernewsAPI","activeSettings","StoryItem","hideActiveStorySettings","postedTime","time","domainHost","domain","urlMatches","match","getHostFromURL","commentURL","rel","target","score","descendants","by","dateTime","toISOString","timeago","StoryBatch","key","StoryBatchWrapper","fetchedStories","effectiveStories","StoryPage","batches","getPageBatches","batch","StoryPagesCollection","fetchNextPage","refreshData","pagesFetched","nextPageToFetch","pagedStoriesFetched","hasMorePages","dataLength","next","hasMore","loader","refreshFunction","pullDownToRefresh","style","overflow","getFetchedPages","getNextPageToFetch","App","pendingActions","isLoading","size","setBodyBackgroundColor","fetchingBookmark","body","neverFetchedBookmark","Boolean","location","hostname","GlobalStyles","createGlobalStyle","middlewares","push","thunk","withExtraArgument","getFirebase","middleware","compose","applyMiddleware","reduxFirestore","getInitialState","lastSavedTheme","getItem","FETCH_PAGE_STORIES_BATCH_REQUEST","FETCH_PAGE_STORIES_REQUEST","favStory","updatedFavStories","rootReducer","combineReducers","configureStore","initialState","createStore","reducer","store","rrfProps","config","createFirestoreInstance","ReactDOM","render","getElementById","renderApp","serviceWorker","ready","registration","unregister","console","message"],"mappings":"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","file":"static/js/main.bd180da6.chunk.js","sourcesContent":["export const mobile = '@media only screen and (max-width: 480px)';\nexport const tablet = '@media only screen and (max-width: 768px)';\nexport const desktop = '@media only screen and (min-width: 1440px)';\n","import styled from 'styled-components';\nimport { tablet } from 'styles/mediaQueries';\n\nexport const Wrapper = styled.div`\n  width: 50%;\n  margin-left: auto;\n  margin-right: auto;\n  height: 100%;\n  overflow: hidden;\n  padding-bottom: 200px;\n  ${tablet} {\n    width: 96%;\n  }\n`;\n\nexport const LoaderSize = 80;\nexport const LoaderWrapper = styled.div`\n  position: absolute;\n  width: ${LoaderSize}px;\n  height: ${LoaderSize}px;\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  margin-left: -${LoaderSize / 2}px;\n  margin-top: -${(LoaderSize * 3) / 2}px;\n`;\n","export const getHostFromURL = url => {\n  let domain = undefined;\n  if (url) {\n    // eslint-disable-next-line\n    const urlMatches = url.match(/^https?\\:\\/\\/(?:www\\.)?([^\\/?#]+)(?:[\\/?#]|$)/i);\n    domain = urlMatches && urlMatches[1]; // domain will be null if no match is found\n  }\n\n  return domain;\n};\n\nexport const isMobileOrTablet = () => {\n  var check = false;\n  (function(a) {\n    if (\n      // eslint-disable-next-line\n      /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(\n        a\n      ) ||\n      // eslint-disable-next-line\n      /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(\n        a.substr(0, 4)\n      )\n    )\n      check = true;\n  })(navigator.userAgent || navigator.vendor || window.opera);\n  return check;\n};\n","import styled from 'styled-components';\nimport { tablet } from 'styles/mediaQueries';\n\n// Header, Link, Logo, Nav, Action\n\nconst HEADER_HEIGHT = 60;\nconst LOGO_WIDTH = 36;\nconst LOGO_HEIGHT = 36;\nconst ACTION_BUTTON_FONT_SIZE = 28;\n\nexport const Header = styled.header`\n  background-color: ${({ theme }) => theme.background.secondary};\n  height: ${HEADER_HEIGHT}px;\n  width: 100%;\n  display: flex;\n  padding: 12px;\n  border-bottom: solid 1px ${({ theme }) => theme.border};\n  padding-right: 0px;\n`;\n\nexport const Title = styled.h1`\n  color: ${({ theme }) => theme.text.primary};\n  font-size: 22px;\n  ${tablet} {\n    font-size: 18px;\n  }\n  font-weight: 400;\n  display: flex;\n  text-align: center;\n  align-items: center;\n  margin-left: 10px;\n`;\n\nexport const Link = styled.a`\n  display: flex;\n`;\n\nexport const MainLink = styled(Link)`\nfloat: left; \nwidth: 400px;\n}\n`;\n\nexport const Nav = styled.div`\n  display: flex;\n  order: 2;\n  width: 100%;\n  max-width: 12em;\n  margin-left: auto;\n`;\n\nexport const Action = styled.div`\n  display: flex;\n  cursor: pointer;\n  font-size: ${ACTION_BUTTON_FONT_SIZE}px;\n  color: ${({ theme }) => theme.text.secondary};\n  align-items: center;\n  text-align: center;\n  margin-top: 0.1em;\n\n  > a {\n    display: flex;\n    color: ${({ theme }) => theme.text.secondary};\n  }\n`;\n\nexport const SettingsAction = styled(Action)`\n  margin-left: auto;\n  margin-right: 0.5em;\n`;\n\nexport const Logo = styled.svg`\n  width: ${LOGO_WIDTH}px;\n  height: ${LOGO_HEIGHT}px;\n  fill: ${({ theme }) => theme.logo.color};\n`;\n\nexport const DropdownMenuContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-left: auto;\n  width: 100%;\n`;\n","import styled from 'styled-components';\n\nconst ACTION_BUTTON_FONT_SIZE = 14;\nconst ACTION_LABEL_FONT_SIZE = 14;\n\nexport const DropdownMenuOuterWrapper = styled.div`\n  display: ${({ mainMenuVisible }) => (mainMenuVisible ? 'flex' : 'none')};\n  flex-direction: column;\n  background: transparent;\n  padding-top: 20px;\n  z-index: 1000;\n  padding-right: 0.05em;\n`;\n\nexport const DropdownMenuInnerWrapper = styled.div`\n  padding-right: 0.5em;\n  flex-direction: column;\n  box-shadow: -1px 3px 10px 1px ${({ theme }) => theme.box_shadow};\n  background-color: ${({ theme }) => theme.background.primary};\n`;\n\nexport const DropdownMenu = styled.ul`\n  display: flex;\n  flex-direction: column;\n`;\n\nexport const DropdownMenuItem = styled.li`\n  margin-left: auto;\n  padding: 0 0 12px 16px;\n`;\n\nexport const Action = styled.div`\n  display: flex;\n  cursor: pointer;\n  font-size: ${ACTION_BUTTON_FONT_SIZE}px;\n  color: ${({ theme }) => theme.text.secondary};\n  align-items: center;\n  text-align: center;\n  padding-right: 6px;\n\n  > a {\n    display: flex;\n    color: ${({ theme }) => theme.text.secondary};\n  }\n`;\nexport const UserDisplayNameContainer = styled.div`\n  display: flex;\n  padding: 0 8px;\n`;\n\nexport const UserDisplayName = styled.span`\n  font-size: ${ACTION_LABEL_FONT_SIZE}px;\n`;\n\nexport const ActionLabel = styled.span`\n  font-size: ${ACTION_LABEL_FONT_SIZE}px;\n  margin-right: 4px;\n`;\n","export const darkTheme = {\n  name: 'dark',\n  background: {\n    primary: '#000',\n    secondary: '#0d0a08',\n  },\n\n  text: {\n    primary: '#bfbebe',\n    secondary: '#848886',\n    disabled: '',\n  },\n\n  hot: {\n    primary: '#ff0000',\n    secondary: '#af0404',\n  },\n\n  warning: {\n    primary: '#bfbebe',\n    secondary: '#848886',\n  },\n\n  error: {\n    primary: '#bfbebe',\n    secondary: '#848886',\n  },\n\n  border: '#272727',\n\n  box_shadow: '#4B4B4B',\n\n  logo: {\n    color: '#f57b51',\n  },\n\n  chatbox: {\n    background: '#331400',\n  },\n\n  hover: {\n    brightness: '200%',\n    linkColor: '',\n  },\n};\n\nexport const lightTheme = {\n  name: 'light',\n  background: {\n    primary: '#f9f9f9',\n    secondary: '#f3f3f3',\n  },\n\n  text: {\n    primary: '#000000',\n    secondary: '#0f4c81',\n    disabled: '',\n    primaryHover: '#ff0000',\n  },\n  hot: {\n    primary: '#ff0000',\n    secondary: '#af0404',\n  },\n\n  warning: {\n    primary: '#bfbebe',\n    secondary: '#848886',\n  },\n\n  error: {\n    primary: '#bfbebe',\n    secondary: '#848886',\n  },\n\n  border: '#272727',\n\n  box_shadow: '#7d7d7d',\n\n  logo: {\n    color: '#f57b51',\n  },\n\n  chatbox: {\n    background: '#fff0f0',\n  },\n\n  hover: {\n    brightness: '95% ',\n    linkColor: '#ff0000 !important',\n  },\n};\n\nexport const themes = {\n  dark: darkTheme,\n  light: lightTheme,\n};\n","const NS = '@hsReader/app';\n\nexport const LOCAL_STORAGE_PREFERENCE_THEME = 'preferences.theme';\n\nexport const actionTypes = {\n  SET_THEME: `${NS}/SET_THEME`,\n  SHOW_MAIN_SETTINGS: `${NS}/SHOW_MAIN_SETTINGS`,\n  SET_ACTIVE_STORY_SETTINGS: `${NS}/SET_ACTIVE_STORY_SETTINGS`,\n  SET_PENDING_ACTIONS: `${NS}/SET_PENDING_ACTIONS`,\n};\n\nexport const appActions = {\n  setTheme: (payload = {}) => {\n    const { theme } = payload;\n    localStorage.setItem(LOCAL_STORAGE_PREFERENCE_THEME, theme.name);\n    return { type: actionTypes.SET_THEME, payload };\n  },\n\n  setSettingsMenuVisibility: (payload = {}) => {\n    return { type: actionTypes.SHOW_MAIN_SETTINGS, payload };\n  },\n\n  setActiveStorySettings: (payload = {}) => {\n    return { type: actionTypes.SET_ACTIVE_STORY_SETTINGS, payload };\n  },\n\n  setPendingActions: (payload = {}) => {\n    return { type: actionTypes.SET_PENDING_ACTIONS, payload };\n  },\n};\n\nexport default appActions;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { DropdownMenuItem, Action, ActionLabel } from './styles';\nimport { TiWeatherNight, TiWeatherSunny } from 'react-icons/ti';\nimport { themes } from 'styles/palette';\nimport { appActions } from 'store/app/actions';\n\nclass CommonSettingsComponents extends Component {\n  constructor() {\n    super();\n    this.toggleTheme = this.toggleTheme.bind(this);\n  }\n\n  toggleTheme(evt) {\n    const { theme, setTheme } = this.props;\n    if (theme.name === themes.dark.name) {\n      setTheme(themes.light);\n    } else {\n      setTheme(themes.dark);\n    }\n  }\n\n  render() {\n    const { theme } = this.props;\n\n    return (\n      <React.Fragment>\n        <DropdownMenuItem onClick={this.toggleTheme}>\n          <Action>\n            {theme.name === themes.dark.name ? (\n              <React.Fragment>\n                <ActionLabel>Use light theme</ActionLabel>\n                <TiWeatherSunny />\n              </React.Fragment>\n            ) : (\n              <React.Fragment>\n                <ActionLabel>Use dark theme</ActionLabel>\n                <TiWeatherNight />\n              </React.Fragment>\n            )}\n          </Action>\n        </DropdownMenuItem>\n      </React.Fragment>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    theme: state.app.theme,\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    setTheme: theme => dispatch(appActions.setTheme({ theme })),\n  };\n};\n\nexport const CommonSettings = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(CommonSettingsComponents);\n","// Import FirebaseAuth and firebase.\nimport firebase from 'firebase';\n\nconst firebaseConfig = {\n  apiKey: 'AIzaSyDfcR5yjdHobjppOkUJohXwwbIwu4sqjLg',\n  authDomain: 'hackernews-reader-eb927.firebaseapp.com',\n  databaseURL: 'https://hackernews-reader-eb927.firebaseio.com',\n  projectId: 'hackernews-reader-eb927',\n  storageBucket: 'hackernews-reader-eb927.appspot.com',\n  messagingSenderId: '791336164376',\n  appId: '1:791336164376:web:e18cfe32406ff9f87c776d',\n};\n\nfirebase.initializeApp(firebaseConfig);\nfirebase.firestore();\n\nexport default firebase;\n\nexport const rrfConfig = {\n  userProfile: 'users',\n  useFirestoreForProfile: true,\n  enableClaims: true,\n};\n","import axios from 'axios';\n\nconst API_ROOT = process.env.URL || 'http://localhost:3000';\nconst TIMEOUT = 20000;\nconst HEADERS = {\n  'Content-Type': 'application/json',\n  Accept: 'application/json',\n};\n\nclass ApiService {\n  constructor({ baseURL = API_ROOT, timeout = TIMEOUT, headers = HEADERS, auth }) {\n    const client = axios.create({\n      baseURL,\n      timeout,\n      headers,\n      auth,\n    });\n\n    client.interceptors.response.use(this.handleSuccess, this.handleError);\n    this.client = client;\n  }\n\n  handleSuccess(response) {\n    return response;\n  }\n\n  handleError(error) {\n    return Promise.reject(error);\n  }\n\n  get(path) {\n    return this.client.get(path).then(response => response.data);\n  }\n\n  post(path, payload) {\n    return this.client.post(path, payload).then(response => response.data);\n  }\n\n  put(path, payload) {\n    return this.client.put(path, payload).then(response => response.data);\n  }\n\n  patch(path, payload) {\n    return this.client.patch(path, payload).then(response => response.data);\n  }\n\n  delete(path) {\n    return this.client.delete(path).then(response => response.data);\n  }\n}\n\nexport default ApiService;\n","import ApiService from './API';\n\nconst BASE_URL = 'https://hacker-news.firebaseio.com/v0';\nconst API_POST_FIX = '.json?print=pretty';\n\nconst PAGE_LIMIT = 20;\nconst API_CLIENT = new ApiService({ baseURL: BASE_URL });\n\nexport const PAGE_STATUS = {\n  TO_FETCH: 'toFetch',\n  FETCHING: 'fetching',\n  FETCHED: 'fetched',\n};\n\nconst hackerNewsApi = {\n  fetchTopStoriesIDs: () => {\n    return API_CLIENT.get(`${BASE_URL}/topstories${API_POST_FIX}`);\n  },\n\n  fetchStory: id => {\n    return API_CLIENT.get(`${BASE_URL}/item/${id}/${API_POST_FIX}`);\n  },\n\n  getPageStoryIDs: (ids, page) => {\n    const { start, end } = hackerNewsApi.getPageRange(PAGE_LIMIT, page);\n    const pageIDs = hackerNewsApi.getPageItems(ids, start, end);\n    return pageIDs;\n  },\n\n  fetchStoriesByPage: (ids, page) => {\n    const pageIDs = hackerNewsApi.getPageStoryIDs(ids, page);\n    if (pageIDs) {\n      const storyPromises = pageIDs.map(id => hackerNewsApi.fetchStory(id));\n      return Promise.all(storyPromises);\n    } else {\n      return Promise.resolve([]);\n    }\n  },\n\n  fetchStoriesIdsAsync: storyIDs => {\n    const storyPromises = storyIDs.map(id => hackerNewsApi.fetchStory(id));\n    return storyPromises;\n  },\n\n  splitStoryIDsIntoPages: (storyIDs, chunkSize) => {\n    const pageSize = chunkSize || PAGE_LIMIT;\n    const pages = storyIDs\n      .map((item, idx) =>\n        idx % pageSize === 0 ? storyIDs.slice(idx, idx + pageSize) : null\n      )\n      .filter(e => e)\n      .map((pageStoryIDs, pageIndex) => {\n        return {\n          index: pageIndex,\n          storyIDs: pageStoryIDs,\n          status: PAGE_STATUS.TO_FETCH,\n        };\n      });\n    return pages;\n  },\n\n  getPageRange: (limit, page = 0) => {\n    return { start: limit * page, end: limit * (page + 1) };\n  },\n\n  getPageItems: (items, start, end) => {\n    return items.slice(start, end);\n  },\n\n  getUserDetailLink: userID => {\n    return `https://news.ycombinator.com/user?id=${userID}`;\n  },\n\n  getStoryCommentURL: storyID => {\n    return `https://news.ycombinator.com/item?id=${storyID}`;\n  },\n};\n\nexport default hackerNewsApi;\n","import hackerNewsApi from 'services/hackernewsAPI';\n\nconst NS = `@hnReader/Story`;\nexport const actionTypes = {\n  FETCH_TOP_STORY_IDS_REQUEST: `${NS}/FETCH_TOP_STORY_IDS_REQUEST`,\n  FETCH_TOP_STORY_IDS_SUCCESS: `${NS}/FETCH_TOP_STORY_IDS_SUCCESS`,\n  FETCH_TOP_STORY_IDS_FAILURE: `${NS}/FETCH_TOP_STORY_IDS_FAILURE`,\n\n  FETCH_PAGE_BATCH_STORY_IDS_REQUEST: `${NS}/FETCH_PAGE_BATCH_STORY_IDS_REQUEST`,\n  FETCH_PAGE_BATCH_STORY_IDS_SUCCESS: `${NS}/FETCH_PAGE_BATCH_STORY_IDS_SUCCESS`,\n  FETCH_PAGE_BATCH_STORY_IDS_FAILURE: `${NS}/FETCH_PAGE_BATCH_STORY_IDS_FAILURE`,\n\n  FETCH_PAGE_BATCHES_REQUEST: `${NS}/FETCH_PAGE_BATCHES_REQUEST`,\n  FETCH_PAGE_BATCHES_SUCCESS: `${NS}/FETCH_PAGE_BATCHES_SUCCESS`,\n  FETCH_PAGE_BATCHES_FAILURE: `${NS}/FETCH_PAGE_BATCHES_FAILURE`,\n\n  FETCH_PAGE_BATCH_STORIES_REQUEST: `${NS}/FETCH_PAGE_BATCH_STORIES_REQUEST`,\n  FETCH_PAGE_BATCH_STORIES_SUCCESS: `${NS}/FETCH_PAGE_BATCH_STORIES_SUCCESS`,\n\n  RELOAD_STORIES: `${NS}/RELOAD_STORIES`,\n\n  ADD_STORY_FAVORITE_SUCCESS: `${NS}/ADD_STORY_FAVORITE_SUCCESS`,\n  ADD_STORY_FAVORITE_FAILURE: `${NS}/ADD_STORY_FAVORITE_FAILURE`,\n\n  REMOVE_STORY_FAVORITE_SUCCESS: `${NS}/REMOVE_STORY_FAVORITE_SUCCESS`,\n  REMOVE_STORY_FAVORITE_FAILURE: `${NS}/REMOVE_STORY_FAVORITE_FAILURE`,\n\n  FETCH_STORIES_BOOKMARK_REQUEST: `${NS}/FETCH_STORIES_BOOKMARK_REQUEST`,\n  FETCH_STORIES_BOOKMARK_SUCCESS: `${NS}/FETCH_STORIES_BOOKMARK_SUCCESS`,\n  FETCH_STORIES_BOOKMARK_FAILURE: `${NS}/FETCH_STORIES_BOOKMARK_FAILURE`,\n\n  LOAD_BOOKMARK_STORIES_SUCCESS: `${NS}/LOAD_BOOKMARK_STORIES_SUCCESS`,\n  LOAD_BOOKMARK_STORIES_FAILURE: `${NS}/LOAD_BOOKMARK_STORIES_FAILURE`,\n  LOAD_BOOKMARK_STORIES_REQUEST: `${NS}/LOAD_BOOKMARK_STORIES_REQUEST`,\n};\n\nconst defaultAction = (type, payload) => ({ type, payload });\nexport const BATCH_SIZE = 5;\n\nexport const storyActions = {\n  reloadStories: (payload = {}) => {\n    return dispatch => {\n      dispatch(defaultAction(actionTypes.RELOAD_STORIES, payload));\n    };\n  },\n\n  fetchStoryPages: (payload = {}) => {\n    const fetchFirstPage = { payload };\n    return dispatch => {\n      dispatch(defaultAction(actionTypes.FETCH_TOP_STORY_IDS_REQUEST, payload));\n      return hackerNewsApi\n        .fetchTopStoriesIDs()\n        .then(storyIDs => {\n          const pages = hackerNewsApi.splitStoryIDsIntoPages(storyIDs);\n          dispatch(\n            defaultAction(actionTypes.FETCH_TOP_STORY_IDS_SUCCESS, {\n              storyIDs,\n              pages,\n            })\n          );\n          if (fetchFirstPage) {\n            dispatch(storyActions.fetchBatchesForPage({ storyIDs, pageIndex: 0 }));\n          }\n        })\n        .catch(err => {\n          dispatch(defaultAction(actionTypes.FETCH_TOP_STORY_IDS_FAILURE, err));\n        });\n    };\n  },\n\n  fetchBatchStoriesFromStoryIDs: (payload = {}) => {\n    return dispatch => {\n      const { batchStoryIDs, pageIndex } = payload;\n      dispatch(\n        defaultAction(actionTypes.FETCH_PAGE_BATCH_STORIES_REQUEST, {\n          ...payload,\n          pageIndex,\n          batchStoryIDs,\n        })\n      );\n      const batchStoryPromises = batchStoryIDs.map(id => hackerNewsApi.fetchStory(id));\n      return Promise.all(batchStoryPromises).then(batchStories => {\n        const successPayload = { ...payload, batchStories: batchStories };\n        dispatch(\n          defaultAction(actionTypes.FETCH_PAGE_BATCH_STORIES_SUCCESS, successPayload)\n        );\n      });\n    };\n  },\n\n  fetchBatchesForPage: (payload = {}) => {\n    return dispatch => {\n      dispatch(defaultAction(actionTypes.FETCH_PAGE_BATCHES_REQUEST, payload));\n\n      const { storyIDs, pageIndex } = payload;\n      const pageStoryIDs = hackerNewsApi.getPageStoryIDs(storyIDs, pageIndex);\n\n      dispatch(\n        defaultAction(actionTypes.FETCH_PAGE_BATCHES_SUCCESS, {\n          ...payload,\n          pageStoryIDs,\n        })\n      );\n    };\n  },\n\n  // personalization\n  getFirestoreBookmark: (state, firestore) => {\n    const currentUserUID = state.firebase.auth.uid;\n    return firestore\n      .collection('vault')\n      .doc(currentUserUID)\n      .collection('favourites');\n  },\n\n  // load the stories from bookmark stories\n  loadBookmarkStories: (payload = {}) => {\n    return (dispatch, getState) => {\n      dispatch(defaultAction(actionTypes.FETCH_TOP_STORY_IDS_REQUEST, payload));\n      const state = getState();\n      const storyIDs = Object.keys(state.story.favStories || {});\n      if (storyIDs !== null) {\n        const pages = hackerNewsApi.splitStoryIDsIntoPages(storyIDs);\n        dispatch(\n          defaultAction(actionTypes.FETCH_TOP_STORY_IDS_SUCCESS, {\n            storyIDs,\n            pages,\n          })\n        );\n        dispatch(storyActions.fetchBatchesForPage({ storyIDs, pageIndex: 0 }));\n      }\n      dispatch(defaultAction(actionTypes.LOAD_BOOKMARK_STORIES_REQUEST, payload));\n    };\n  },\n\n  // fetch the bookmark stories\n  fetchStoriesBookmark: (payload = {}) => {\n    return (dispatch, getState, { getFirestore }) => {\n      dispatch(defaultAction(actionTypes.FETCH_STORIES_BOOKMARK_REQUEST, payload));\n      const state = getState();\n      const firestore = getFirestore();\n      storyActions\n        .getFirestoreBookmark(state, firestore)\n        .get()\n        .then(querySnapshot => {\n          const fetchedData = querySnapshot.docs.map(doc => doc.data());\n          dispatch(\n            defaultAction(actionTypes.FETCH_STORIES_BOOKMARK_SUCCESS, {\n              ...payload,\n              fetchedFavStories: fetchedData,\n            })\n          );\n        })\n        .catch(err => {\n          dispatch(\n            defaultAction(actionTypes.FETCH_STORIES_BOOKMARK_FAILURE, {\n              ...payload,\n            })\n          );\n        });\n    };\n  },\n\n  // remove bookmark story\n  removeBookmarkStory: (payload = {}) => {\n    return (dispatch, getState, { getFirestore }) => {\n      const { story } = payload;\n      const state = getState();\n      const firestore = getFirestore();\n      const selectedDoc = storyActions\n        .getFirestoreBookmark(state, firestore)\n        .doc(story.id.toString());\n\n      selectedDoc\n        .delete()\n        .then(() => {\n          dispatch(\n            defaultAction(actionTypes.REMOVE_STORY_FAVORITE_SUCCESS, {\n              ...payload,\n            })\n          );\n        })\n        .catch(err => {\n          dispatch(\n            defaultAction(actionTypes.REMOVE_STORY_FAVORITE_FAILURE, {\n              ...payload,\n            })\n          );\n        });\n    };\n  },\n\n  // bookmark the story to the list of favourites\n  addBookmarkStory: (payload = {}) => {\n    return (dispatch, getState, { getFirestore }) => {\n      const { story } = payload;\n      const state = getState();\n      const currentUserUID = state.firebase.auth.uid;\n      const firestore = getFirestore();\n      storyActions\n        .getFirestoreBookmark(state, firestore)\n        .doc(story.id.toString())\n        .set({\n          id: story.id,\n          userUID: currentUserUID,\n          added: new Date(),\n        })\n        .then(() => {\n          dispatch(\n            defaultAction(actionTypes.ADD_STORY_FAVORITE_SUCCESS, {\n              ...payload,\n            })\n          );\n        })\n        .catch(err => {\n          dispatch(\n            defaultAction(actionTypes.ADD_STORY_FAVORITE_FAILURE, {\n              ...payload,\n            })\n          );\n        });\n    };\n  },\n};\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { DropdownMenuItem, Action, ActionLabel } from './styles';\n\nimport { GoSignOut, GoPerson, GoBookmark, GoSync } from 'react-icons/go';\nimport { CommonSettings } from './commonSettings';\nimport firebase from 'config/firebase';\nimport { storyActions } from 'store/story/actions';\n\nclass SignedInSettingsComponent extends Component {\n  constructor() {\n    super();\n    this.signUserOut = this.signUserOut.bind(this);\n    this.fetchBookmarkStories = this.fetchBookmarkStories.bind(this);\n    this.fetchTopStories = this.fetchTopStories.bind(this);\n\n    this.state = {\n      savedStoriesLoaded: false,\n    };\n  }\n\n  signUserOut(evt) {\n    firebase.auth().signOut();\n  }\n\n  fetchBookmarkStories(evt) {\n    const { loadBookmarkStories } = this.props;\n    loadBookmarkStories();\n    this.setState({\n      savedStoriesLoaded: true,\n    });\n  }\n\n  fetchTopStories(evt) {\n    const { fetchStoryPages, reloadStories } = this.props;\n    reloadStories();\n    fetchStoryPages();\n\n    this.setState({\n      savedStoriesLoaded: false,\n    });\n  }\n\n  render() {\n    const { firebaseAuth, isFetching } = this.props;\n    const { savedStoriesLoaded } = this.state;\n    return (\n      <React.Fragment>\n        <DropdownMenuItem>\n          <Action>\n            <React.Fragment>\n              <ActionLabel>{firebaseAuth.displayName}</ActionLabel>\n              <GoPerson />\n            </React.Fragment>\n          </Action>\n        </DropdownMenuItem>\n        {!savedStoriesLoaded ? (\n          <DropdownMenuItem disabled={isFetching} onClick={this.fetchBookmarkStories}>\n            <Action>\n              <React.Fragment>\n                <ActionLabel>Saved stories</ActionLabel>\n                <GoBookmark />\n              </React.Fragment>\n            </Action>\n          </DropdownMenuItem>\n        ) : (\n          <DropdownMenuItem disabled={isFetching} onClick={this.fetchTopStories}>\n            <Action>\n              <React.Fragment>\n                <ActionLabel>Top stories</ActionLabel>\n                <GoSync />\n              </React.Fragment>\n            </Action>\n          </DropdownMenuItem>\n        )}\n        <CommonSettings />\n        <DropdownMenuItem>\n          <Action onClick={this.signUserOut}>\n            <React.Fragment>\n              <ActionLabel>Sign-out</ActionLabel>\n              <GoSignOut />\n            </React.Fragment>\n          </Action>\n        </DropdownMenuItem>\n      </React.Fragment>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  const storyReducer = state.story;\n\n  return {\n    firebaseAuth: state.firebase.auth,\n    isFetching: storyReducer.isFetching,\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    loadBookmarkStories: () => dispatch(storyActions.loadBookmarkStories({})),\n    fetchStoryPages: () =>\n      dispatch(storyActions.fetchStoryPages({ fetchFirstPage: true })),\n    reloadStories: () => dispatch(storyActions.reloadStories()),\n  };\n};\n\nexport const SignedInSettings = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(SignedInSettingsComponent);\n","const NS = '@hsReader/auth';\n\nexport const actionTypes = {\n  UPDATE_AUTH_STATE: `${NS}/UPDATE_AUTH_STATE`,\n  CLOSE_LOGIN_MODAL: `${NS}/CLOSE_LOGIN_MODAL`,\n  OPEN_LOGIN_MODAL: `${NS}/OPEN_LOGIN_MODAL`,\n};\n\nconst defaultAction = (type, payload) => ({ type, payload });\n\nexport const authActions = {\n  updateAuthState: (payload = {}) => {\n    return dispatch => {\n      dispatch(defaultAction(actionTypes.UPDATE_AUTH_STATE, payload));\n    };\n  },\n\n  closeLoginModal: (payload = {}) => {\n    return dispatch => {\n      dispatch(defaultAction(actionTypes.CLOSE_LOGIN_MODAL, payload));\n    };\n  },\n\n  openLoginModal: (payload = {}) => {\n    return dispatch => {\n      dispatch(defaultAction(actionTypes.OPEN_LOGIN_MODAL, payload));\n    };\n  },\n};\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { DropdownMenuItem, Action, ActionLabel } from './styles';\n\nimport { GoSignIn } from 'react-icons/go';\nimport { CommonSettings } from './commonSettings';\nimport { authActions } from 'store/auth/actions';\n\nclass SignedOutSettingsComponent extends Component {\n  constructor() {\n    super();\n    this.openLoginPrompt = this.openLoginPrompt.bind(this);\n  }\n\n  openLoginPrompt() {\n    this.props.openLoginModal();\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <DropdownMenuItem>\n          <Action onClick={this.openLoginPrompt}>\n            <ActionLabel>Login with Google</ActionLabel>\n            <GoSignIn />\n          </Action>\n        </DropdownMenuItem>\n        <CommonSettings />\n      </React.Fragment>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    loginModalOpen: state.auth.loginModalOpen,\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    openLoginModal: () => dispatch(authActions.openLoginModal({})),\n  };\n};\n\nexport const SignedOutSettings = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(SignedOutSettingsComponent);\n","import { createSelector } from 'reselect';\nimport { isLoaded, isEmpty } from 'react-redux-firebase';\n\nconst isAuthLoadedSelector = state => {\n  return isLoaded(state.firebase.auth);\n};\n\nconst hasAuthSelector = state => {\n  return !isEmpty(state.firebase.auth);\n};\n\nexport const authenticatedSelector = createSelector(\n  isAuthLoadedSelector,\n  hasAuthSelector,\n  (isAutLoaded, hasAuth) => {\n    return isAutLoaded && hasAuth;\n  }\n);\n\nexport const authLoadedSelector = createSelector(isAuthLoadedSelector, isAutLoaded => {\n  return isAutLoaded;\n});\n","import Modal from 'styled-react-modal';\n\nexport const SignInModal = Modal.styled`\nwidth: 20rem;\nheight: 100%;\ndisplay: flex;\njustify-content: center;\npadding-top: 20rem;\n`;\n","import React, { Component } from 'react';\nimport { authLoadedSelector, authenticatedSelector } from 'store/auth/selectors';\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\nimport { connect } from 'react-redux';\nimport firebase from 'config/firebase';\nimport { authActions } from 'store/auth/actions';\nimport { SignInModal } from './styles';\n\nclass SignInScreen extends Component {\n  constructor() {\n    super();\n    this.openLoginPrompt = this.openLoginPrompt.bind(this);\n    this.closeLoginPrompt = this.closeLoginPrompt.bind(this);\n  }\n\n  closeLoginPrompt() {\n    this.props.closeLoginModal();\n  }\n\n  openLoginPrompt() {\n    this.props.openLoginModal();\n  }\n\n  render() {\n    const { loginModalOpen } = this.props;\n\n    // // Configure FirebaseUI.\n    const uiConfig = {\n      // Popup signin flow rather than redirect flow.\n      signInFlow: 'popup',\n      // We will display Google as auth providers.\n      signInOptions: [firebase.auth.GoogleAuthProvider.PROVIDER_ID],\n      callbacks: {\n        // Avoid redirects after sign-in.\n        signInSuccessWithAuthResult: () => {\n          this.closeLoginPrompt();\n          return false;\n        },\n      },\n    };\n\n    return (\n      <SignInModal\n        isOpen={loginModalOpen}\n        onBackgroundClick={this.closeLoginPrompt}\n        onEscapeKeydown={this.closeLoginPrompt}\n        allowScroll={true}\n      >\n        <StyledFirebaseAuth uiConfig={uiConfig} firebaseAuth={firebase.auth()} />\n      </SignInModal>\n    );\n  }\n\n  componentDidMount() {\n    const { onAuthChanged } = this.props;\n    this.unregisterAuthObserver = firebase.auth().onAuthStateChanged(onAuthChanged);\n  }\n\n  componentWillUnmount() {\n    this.unregisterAuthObserver();\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    theme: state.app.theme,\n    isAuthenticated: authenticatedSelector(state),\n    isAuthLoaded: authLoadedSelector(state),\n    firebaseReducer: state.firebase,\n    loginModalOpen: state.auth.loginModalOpen,\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onAuthChanged: user => dispatch(authActions.updateAuthState({ user })),\n    openLoginModal: () => dispatch(authActions.openLoginModal({})),\n    closeLoginModal: () => dispatch(authActions.closeLoginModal({})),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SignInScreen);\n","import styled, { keyframes, css } from 'styled-components';\n\nconst blink = keyframes`\n  /**\n  * At the start of the animation the dot\n  * has an opacity of .2\n  */\n  0% {\n    opacity: .2;\n  }\n  /**\n  * At 20% the dot is fully visible and\n  * then fades out slowly\n  */\n  20% {\n    opacity: 1;\n  }\n  /**\n  * Until it reaches an opacity of .2 and\n  * the animation can start again\n  */\n  100% {\n    opacity: .2;\n  }\n`;\n\nexport const AnimitedBlink = css`\n  /**\n   * Use the blink animation, which is defined above\n   */\n  animation-name: ${blink};\n  /**mport\n   * The total time of animation\n   */\n  animation-duration: 1s;\n  /**\n   * It will repeat itself forever\n   */\n  animation-iteration-count: infinite;\n  /**\n   * This makes sure that the starting style (opacity: .2)\n   * of the animation is applied before the animation starts.\n   * Otherwise we would see a short flash or would have\n   * to set the default styling of the dots to the same\n   * as the animation. Same applies for the ending styles.\n   */\n  animation-fill-mode: both;\n\n  &:nth-child(2) {\n    animation-delay: 0.2s;\n  }\n\n  &:nth-child(3) {\n    animation-delay: 0.4s;\n  }\n`;\n\nexport const Animation = styled.div`\n  text-align: center;\n  span {\n    color: ${({ theme }) => theme.text.secondary};\n    display: inline-block;\n    margin-left: 4px;\n    margin-right: 4px;\n    font-size: 80px;\n    line-height: 0.1;\n    ${AnimitedBlink}\n  }\n`;\n","import React from 'react';\nimport { Animation } from './styles';\nimport { DoubleBounce } from 'styled-spinkit';\n\nconst LoaderComponent = () => {\n  return (\n    <div>\n      <Animation>\n        <span>.</span>\n        <span>.</span>\n        <span>.</span>\n      </Animation>\n    </div>\n  );\n};\n\nexport const Loader = LoaderComponent;\nexport const DoubleBounceLoader = DoubleBounce;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport {\n  DropdownMenuOuterWrapper,\n  DropdownMenuInnerWrapper,\n  DropdownMenu,\n} from './styles';\nimport { SignedInSettings } from './signedInSettings';\nimport { SignedOutSettings } from './signedOutSettings';\n\nimport SignInScreen from 'components/Auth/signInScreen';\nimport { appActions } from 'store/app/actions';\nimport { Loader } from 'components/Loader';\n\nclass MainSettingsMenuComponent extends Component {\n  constructor() {\n    super();\n    this.showSettingsMenu = this.showSettingsMenu.bind(this);\n    this.hideSettingsMenu = this.hideSettingsMenu.bind(this);\n  }\n\n  hideSettingsMenu() {\n    this.props.setSettingsMenuVisibility(false);\n  }\n\n  showSettingsMenu() {\n    this.props.setSettingsMenuVisibility(true);\n  }\n\n  render() {\n    const { firebaseAuth, mainMenuVisible } = this.props;\n    const { isLoaded, isEmpty } = firebaseAuth;\n    const isSignedIn = isLoaded && !isEmpty;\n    const isSignedOut = isLoaded && isEmpty;\n\n    return (\n      <React.Fragment>\n        <DropdownMenuOuterWrapper mainMenuVisible={mainMenuVisible}>\n          <DropdownMenuInnerWrapper\n            onMouseEnter={this.showSettingsMenu}\n            onMouseLeave={this.hideSettingsMenu}\n          >\n            {isLoaded ? (\n              <DropdownMenu>\n                {isSignedIn && <SignedInSettings />}\n                {isSignedOut && <SignedOutSettings />}\n              </DropdownMenu>\n            ) : (\n              <Loader />\n            )}\n          </DropdownMenuInnerWrapper>\n        </DropdownMenuOuterWrapper>\n\n        <SignInScreen />\n      </React.Fragment>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    theme: state.app.theme,\n    mainMenuVisible: state.app.mainMenuVisible,\n    firebaseAuth: state.firebase.auth,\n    firebaseProfile: state.firebase.profile,\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    setTheme: theme => dispatch(appActions.setTheme({ theme })),\n    setSettingsMenuVisibility: visible =>\n      dispatch(appActions.setSettingsMenuVisibility({ visible: visible })),\n  };\n};\n\nexport const MainSettingsMenu = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(MainSettingsMenuComponent);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { isMobileOrTablet } from 'utils/Utils';\nimport {\n  Header,\n  Logo,\n  Nav,\n  SettingsAction,\n  Title,\n  MainLink,\n  DropdownMenuContainer,\n} from './styles';\nimport { MainSettingsMenu } from 'components/Settings';\nimport { GoThreeBars } from 'react-icons/go';\nimport { appActions } from 'store/app/actions';\n\nclass NavBar extends Component {\n  constructor() {\n    super();\n\n    this.showSettingsMenu = this.showSettingsMenu.bind(this);\n    this.hideSettingsMenu = this.hideSettingsMenu.bind(this);\n    this.toggleSettingsMenu = this.toggleSettingsMenu.bind(this);\n  }\n\n  hideSettingsMenu() {\n    this.props.setSettingsMenuVisibility(false);\n  }\n\n  showSettingsMenu() {\n    this.props.setSettingsMenuVisibility(true);\n  }\n\n  toggleSettingsMenu() {\n    const { mainMenuVisible } = this.props;\n    this.props.setSettingsMenuVisibility(!mainMenuVisible);\n  }\n\n  render() {\n    // to avoid conflict between onMouseEnter/onClick events in mobile devices, only set one binding per device type\n    const isMobile = isMobileOrTablet();\n    return (\n      <Header>\n        <MainLink href='/'>\n          <Logo viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'>\n            <path d='M20.496 9.026c-2.183-.93-5.116-1.53-8.25-1.695-.5-.03-.987-.04-1.45-.04 2.318-2.83 4.802-4.73 6.437-4.79.322-.013.595.055.813.196.706.458.905 1.768.545 3.59-.04.25.12.493.36.54.25.05.49-.11.54-.36.45-2.28.12-3.846-.94-4.538-.38-.248-.84-.365-1.35-.346-2.05.077-4.94 2.3-7.59 5.72-1.154.035-2.24.13-3.232.287-.646-2.897-.39-4.977.594-5.477.138-.073.285-.11.457-.124.697-.054 1.66.395 2.71 1.27.194.16.486.14.646-.06a.458.458 0 00-.06-.645C9.466 1.51 8.304 1 7.354 1.07a2.244 2.244 0 00-.803.22c-1.19.607-1.67 2.327-1.37 4.838.07.52.16 1.062.29 1.62C2.19 8.404.1 9.718.01 11.372c-.06 1.17.865 2.284 2.68 3.222a.46.46 0 10.42-.816C1.66 13.032.88 12.19.927 11.42c.05-1.08 1.772-2.19 4.76-2.78.27.994.62 2.032 1.05 3.09-1.018 1.888-1.756 3.747-2.137 5.4-.56 2.465-.26 4.22.86 4.948.36.234.78.35 1.247.35.935 0 2.067-.46 3.347-1.372a.458.458 0 10-.53-.746c-1.544 1.103-2.844 1.472-3.562 1.003-.76-.495-.926-1.943-.46-3.976.32-1.386.907-2.93 1.708-4.52.2.438.41.876.63 1.313 1.425 2.796 3.17 5.227 4.91 6.845 1.386 1.29 2.674 1.963 3.735 1.963.35 0 .68-.075.976-.223 1.145-.585 1.64-2.21 1.398-4.575-.224-2.213-1.06-4.91-2.354-7.6a.46.46 0 00-.83.396c2.69 5.602 2.88 10.19 1.37 10.96-1.59.813-5.424-2.355-8.39-8.18-.34-.655-.637-1.3-.9-1.93.34-.608.7-1.22 1.095-1.83.395-.604.806-1.188 1.224-1.745h.394c.54 0 1.126.01 1.734.048 6.53.343 10.975 2.56 10.884 4.334-.04.765-.924 1.538-2.425 2.12a.464.464 0 00-.26.596.455.455 0 00.593.262c1.905-.74 2.95-1.756 3.01-2.93.07-1.33-1.17-2.61-3.5-3.6v-.01zM8.08 9.45c-.27.415-.52.827-.764 1.244a23.66 23.66 0 01-.723-2.215c.713-.11 1.485-.19 2.31-.24-.28.39-.554.794-.82 1.21v-.01zm3.925 1.175a1.375 1.375 0 100 2.75 1.375 1.375 0 100-2.75z'></path>\n          </Logo>\n          <Title>HKS Reader</Title>\n        </MainLink>\n        <Nav>\n          <DropdownMenuContainer\n            onMouseEnter={!isMobile ? this.showSettingsMenu : null}\n            onMouseLeave={!isMobile ? this.hideSettingsMenu : null}\n          >\n            <SettingsAction>\n              <GoThreeBars onClick={isMobile ? this.toggleSettingsMenu : null} />\n            </SettingsAction>\n            <MainSettingsMenu />\n          </DropdownMenuContainer>\n        </Nav>\n      </Header>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    theme: state.app.theme,\n    mainMenuVisible: state.app.mainMenuVisible,\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    setSettingsMenuVisibility: visible =>\n      dispatch(appActions.setSettingsMenuVisibility({ visible: visible })),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NavBar);\n","import { PAGE_STATUS } from 'services/hackernewsAPI';\n\nimport { BATCH_SIZE } from 'store/story/actions';\n\nexport default class Utils {\n  static getNextPageToFetch(pages) {\n    const toFetchPage = pages.find(page => page.status !== PAGE_STATUS.FETCHED);\n    if (toFetchPage) {\n      return toFetchPage.index;\n    } else {\n      return -1;\n    }\n  }\n\n  static getFetchedPages(pages) {\n    return pages.filter(page => page.status === PAGE_STATUS.FETCHED);\n  }\n\n  static getPageBatches(page) {\n    const stories = page.stories || [];\n    const batches = page.storyIDs\n      .map((item, idx) =>\n        idx % BATCH_SIZE === 0 ? page.storyIDs.slice(idx, idx + BATCH_SIZE) : null\n      )\n      .filter(e => e)\n      .map((batchStoryIDs, batchIndex) => {\n        return {\n          index: page.index * BATCH_SIZE + batchIndex,\n          batchStoryIDs: batchStoryIDs,\n          batchStories: stories.slice(page.index, page.index + BATCH_SIZE),\n        };\n      });\n    return batches;\n  }\n}\n","import { createSelector } from 'reselect';\nimport { PAGE_STATUS } from 'services/hackernewsAPI';\n\nconst fetchedPagesSelector = state => {\n  const { pages } = state.story;\n\n  if (pages) {\n    return pages\n      .filter(page => page.status === PAGE_STATUS.FETCHED)\n      .map(page => page.index);\n  } else {\n    return 0;\n  }\n};\n\nconst totalPagesSelector = state => {\n  const { pages } = state.story;\n  if (pages) {\n    return pages.map(page => page.index);\n  } else {\n    return 0;\n  }\n};\n\nexport const hasMorePagesSelector = createSelector(\n  totalPagesSelector,\n  fetchedPagesSelector,\n  (totalPages, fetchedPages) => {\n    return totalPages.length > fetchedPages.length;\n  }\n);\n","import styled from 'styled-components';\n\nexport const StoryPageWrapper = styled.ul`\n  background-color: ${({ theme }) => theme.backgroundSecondary};\n  border-radius: 4px;\n  margin-left: auto;\n  margin-right: auto;\n  margin-bottom: 20px;\n  display: flex;\n  flex-direction: column;\n\n  margin-before: 1em;\n  margin-after: 1em;\n  margin-start: 0;\n  margin-end: 0;\n  margin: 0;\n`;\n","import styled, { css } from 'styled-components';\nimport { AnimitedBlink } from 'components/Loader/styles';\nimport { tablet } from 'styles/mediaQueries';\n\nexport const BoxScore = styled.div`\n  font-size: 12px;\n  color: ${({ theme }) => theme.hot.primary};\n`;\n\nexport const HotBox = styled.div`\n  min-width: 80px;\n  height: 100%;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: ${({ theme }) => theme.hot.primary};\n  flex-direction: column;\n  background-color: ${({ theme }) => theme.background.secondary};\n  padding: 14px;\n\n  ${tablet} {\n    min-width: 60px;\n    padding: 12px;\n  }\n`;\n\nexport const ChatBox = styled.div`\n  background-color: ${({ theme }) => theme.chatbox.background};\n\n  color: #ff6600;\n  margin-top: 5px;\n\n  display: inline-block;\n  border-radius: 10%;\n  padding: 1px 6px;\n  text-align: center;\n  font-style: normal;\n  font-size: 12px;\n  line-height: 1.45;\n\n  ${tablet} {\n    line-height: 1;\n  }\n\n  &:after {\n    margin-top: -0.13rem;\n    margin-left: 0.07rem;\n    border-width: 0.6rem 0.66rem 0 0;\n  }\n`;\n\nexport const ContentBox = styled.div`\n  display: flex;\n  flex-direction: column;\n  padding: 14px 0 14px 14px;\n  justify-content: center;\n  flex: 1;\n\n  ${tablet} {\n    padding: 12px 0 12px 6px;\n  }\n`;\n\nexport const StoryListItem = styled.li`\n  border-bottom: 1px solid ${({ theme }) => theme.border};\n  border-top: 1px solid ${({ theme }) => theme.border};\n\n  flex-flow: row wrap;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  height: 100%;\n\n  ${({ bogusLoader }) =>\n    bogusLoader &&\n    css`\n      ${AnimitedBlink}\n    `}\n\n  &:hover {\n    filter: brightness(${({ theme }) => theme.hover.brightness});\n  }\n`;\n\nexport const Title = styled.h3`\n  color: ${({ theme }) => theme.text.primary};\n  margin-top: 0;\n  margin-bottom: 6px;\n  font-weight: 400;\n  font-size: 16px;\n  letter-spacing: 0.4px;\n  margin-right: 5px;\n`;\n\nexport const Host = styled.span`\n  color: ${({ theme }) => theme.text.secondary};\n  font-size: 12px;\n`;\n\nexport const ExternalLink = styled.a`\n  color: ${({ theme }) => theme.text.primary};\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  text-decoration: none;\n  cursor: pointer;\n\n  &:hover {\n    color: ${({ theme }) => theme.hover.linkColor};\n    h1,\n    h2,\n    h3,\n    span {\n      color: ${({ theme }) => theme.hover.linkColor};\n    }\n  }\n`;\n\nexport const Description = styled.div`\n  font-size: 12px;\n  color: ${({ theme }) => theme.text.secondary};\n`;\n\nexport const SimpleLink = styled.a`\n  color: ${({ theme }) => theme.text.secondary};\n  &:visited {\n    color: ${({ theme }) => theme.text.secondary};\n  }\n`;\n\nexport const CommentLink = styled.div`\n  color: ${({ theme }) => theme.text.secondary};\n`;\n\nexport const StoryActionsContainer = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  float-direction: row;\n  color: ${({ theme }) => theme.text.secondary};\n  padding-right: 1em;\n  position: relative;\n`;\n\nexport const StoryActionButton = styled.div`\n  position: absolute;\n  top: -0.5em;\n  cursor: pointer;\n  z-index: 99;\n`;\n\nexport const StoryActionsPanel = styled.div`\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  z-index: 100;\n  top: -3.5em;\n  padding: 10px;\n  background-color: ${({ theme }) => theme.background.primary};\n  filter: brightness(50%);\n  border-radius: 10%;\n  border: 1px solid ${({ theme }) => theme.border};\n`;\n\nexport const StoryActionItem = styled.div`\n  display: flex;\n  padding: 5px;\n  cursor: pointer;\n  z-index: 100;\n  a {\n    font-size: 14px;\n  }\n  &:hover {\n    filter: brightness(200%);\n  }\n`;\n\nexport const StoryActionItemLabel = styled.label`\n  color: ${({ theme }) => theme.text.secondary};\n  font-size: 14px;\n  margin-left: 4px;\n  cursor: pointer;\n`;\n","import React from 'react';\n\nimport { StoryActionItem, ExternalLink, StoryActionItemLabel } from '../styles';\n\nimport { FaGetPocket } from 'react-icons/fa';\n\nconst openWindowsModal = (url, title, w, h) => {\n  const dualScreenLeft =\n    window.screenLeft !== undefined ? window.screenLeft : window.screenX;\n  const dualScreenTop =\n    window.screenTop !== undefined ? window.screenTop : window.screenY;\n\n  const width = window.innerWidth\n    ? window.innerWidth\n    : document.documentElement.clientWidth;\n\n  const height = window.innerHeight\n    ? window.innerHeight\n    : document.documentElement.clientHeight;\n\n  const systemZoom = width / window.screen.availWidth;\n  const left = (width - w) / 2 / systemZoom + dualScreenLeft;\n  const top = (height - h) / 2 / systemZoom + dualScreenTop;\n  const newWindow = window.open(\n    url,\n    title,\n    ` scrollbars=yes,\n      width=${w / systemZoom}, \n      height=${h / systemZoom}, \n      top=${top}, \n      left=${left}\n      `\n  );\n\n  if (window.focus) newWindow.focus();\n};\n\nexport const SendToPocketAction = props => {\n  const { url, title } = props;\n  const encodedURI = encodeURIComponent(url);\n  const encodedTitle = encodeURIComponent(title);\n  const pocketShareURI = `https://getpocket.com/edit?url=${encodedURI}&title=${encodedTitle}&tags=hackernews,tech`;\n  return (\n    <StoryActionItem>\n      <ExternalLink\n        href='#'\n        onClick={() => {\n          openWindowsModal(pocketShareURI, 'Pocket', 550, 325);\n        }}\n      >\n        <FaGetPocket color='#ef4056'></FaGetPocket>\n        <StoryActionItemLabel>Pocket story</StoryActionItemLabel>\n      </ExternalLink>\n    </StoryActionItem>\n  );\n};\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { StoryActionItem, ExternalLink, StoryActionItemLabel } from '../styles';\n\nimport { FaBookmark } from 'react-icons/fa';\nimport { storyActions } from 'store/story/actions';\n\nclass BookmarkStoryComponent extends Component {\n  constructor() {\n    super();\n    this.addStoryBookmarkItem = this.addStoryBookmarkItem.bind(this);\n    this.removeStoryBookmarkItem = this.removeStoryBookmarkItem.bind(this);\n  }\n\n  addStoryBookmarkItem(evt) {\n    const { story, addBookmarkStory } = this.props;\n    addBookmarkStory(story);\n  }\n\n  removeStoryBookmarkItem(evt) {\n    const { story, removeBookmarkStory } = this.props;\n    removeBookmarkStory(story);\n  }\n\n  render() {\n    const { isFavouriteStory } = this.props;\n    return (\n      <StoryActionItem>\n        {!isFavouriteStory ? (\n          <ExternalLink href='#' onClick={this.addStoryBookmarkItem}>\n            <FaBookmark color='white'></FaBookmark>\n            <StoryActionItemLabel>Save story</StoryActionItemLabel>\n          </ExternalLink>\n        ) : (\n          <ExternalLink href='#' onClick={this.removeStoryBookmarkItem}>\n            <FaBookmark color='#ef4056'></FaBookmark>\n            <StoryActionItemLabel>Unsave story</StoryActionItemLabel>\n          </ExternalLink>\n        )}\n      </StoryActionItem>\n    );\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  const storyReducer = state.story;\n  const { story } = ownProps;\n  const isFavouriteLoaded = storyReducer.favStories !== null;\n  const isFavouriteStory = story.id in (storyReducer.favStories || {});\n\n  return {\n    isFavouriteStory: isFavouriteStory,\n    isFavouriteLoaded: isFavouriteLoaded,\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    addBookmarkStory: story => dispatch(storyActions.addBookmarkStory({ story })),\n    removeBookmarkStory: story => dispatch(storyActions.removeBookmarkStory({ story })),\n  };\n};\n\nexport const BookmarkStoryAction = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(BookmarkStoryComponent);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { isMobileOrTablet } from 'utils/Utils';\n\nimport { StoryActionsContainer, StoryActionButton, StoryActionsPanel } from './styles';\nimport { authenticatedSelector } from 'store/auth/selectors';\n\nimport { GoKebabHorizontal } from 'react-icons/go';\nimport { SendToPocketAction } from './Actions/sharerPocket';\nimport { BookmarkStoryAction } from './Actions/bookmarkStory';\nimport hackernewsAPI from 'services/hackernewsAPI';\nimport { appActions } from 'store/app/actions';\n\nclass StoryItemActions extends Component {\n  constructor() {\n    super();\n    this.toggleStoryActions = this.toggleStoryActions.bind(this);\n    this.showStoryActions = this.showStoryActions.bind(this);\n    this.hideStoryActions = this.hideStoryActions.bind(this);\n  }\n\n  toggleStoryActions() {\n    const { setActiveStorySettings, currentActiveStorySetting, story } = this.props;\n    const activeSettings =\n      currentActiveStorySetting && currentActiveStorySetting === story.id;\n    if (!activeSettings) {\n      setActiveStorySettings(story.id);\n    } else {\n      setActiveStorySettings(null);\n    }\n  }\n\n  showStoryActions() {\n    const { setActiveStorySettings, story } = this.props;\n    setActiveStorySettings(story.id);\n  }\n\n  hideStoryActions() {\n    const { setActiveStorySettings } = this.props;\n    setActiveStorySettings(null);\n  }\n\n  render() {\n    const { story, isAuthenticated, currentActiveStorySetting } = this.props;\n    const isMobile = isMobileOrTablet();\n    const externalURL = story.url || hackernewsAPI.getStoryCommentURL(story.id);\n\n    const activeSettings =\n      currentActiveStorySetting && currentActiveStorySetting === story.id;\n    return (\n      <StoryActionsContainer>\n        <StoryActionButton>\n          <GoKebabHorizontal\n            onClick={isMobile ? this.toggleStoryActions : null}\n            onMouseEnter={!isMobile ? this.showStoryActions : null}\n          ></GoKebabHorizontal>\n        </StoryActionButton>\n        {activeSettings && (\n          <StoryActionsPanel onMouseLeave={!isMobile ? this.hideStoryActions : null}>\n            {externalURL && <SendToPocketAction url={externalURL} title={story.title} />}\n            {isAuthenticated && <BookmarkStoryAction story={story} />}\n          </StoryActionsPanel>\n        )}\n      </StoryActionsContainer>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    isAuthenticated: authenticatedSelector(state),\n    currentActiveStorySetting: state.app.currentActiveStorySetting,\n  };\n};\nconst mapDispatchToProps = dispatch => {\n  return {\n    setActiveStorySettings: storyID =>\n      dispatch(appActions.setActiveStorySettings({ currentActiveStorySetting: storyID })),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(StoryItemActions);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport timeago from 'epoch-timeago';\nimport { appActions } from 'store/app/actions';\n\nimport {\n  ExternalLink,\n  Title,\n  StoryListItem,\n  SimpleLink,\n  BoxScore,\n  Host,\n  CommentLink,\n  Description,\n  HotBox,\n  ContentBox,\n  ChatBox,\n} from './styles';\nimport StoryItemActions from './storyActions';\nimport { getHostFromURL } from 'utils/Utils';\nimport hackernewsAPI from 'services/hackernewsAPI';\n\nclass StoryItem extends Component {\n  constructor() {\n    super();\n    this.hideActiveStorySettings = this.hideActiveStorySettings.bind(this);\n  }\n\n  hideActiveStorySettings(evt) {\n    const { setActiveStorySettings } = this.props;\n    setActiveStorySettings(null);\n  }\n\n  render() {\n    const { story, bogusLoader } = this.props;\n    const postedTime = story.time * 1000;\n    const domainHost = getHostFromURL(story.url);\n    const commentURL = hackernewsAPI.getStoryCommentURL(story.id);\n    const externalURL = story.url || commentURL;\n\n    return (\n      <StoryListItem\n        bogusLoader={bogusLoader}\n        onMouseLeave={this.hideActiveStorySettings}\n      >\n        <ExternalLink href={commentURL}>\n          <HotBox>\n            <BoxScore\n              href={commentURL}\n              rel='nofollow noreferrer noopener'\n              target='_blank'\n            >\n              {story.score}\n            </BoxScore>\n            <ChatBox>\n              <CommentLink\n                href={commentURL}\n                rel='nofollow noreferrer noopener'\n                target='_blank'\n              >\n                {' '}\n                {story.descendants}\n              </CommentLink>\n            </ChatBox>\n          </HotBox>\n        </ExternalLink>\n        <ContentBox>\n          <ExternalLink\n            href={externalURL}\n            rel='nofollow noreferrer noopener'\n            target='_blank'\n          >\n            <Title>{story.title}</Title>\n          </ExternalLink>\n          <Description>\n            <SimpleLink\n              href={hackernewsAPI.getUserDetailLink(story.by)}\n              rel='nofollow noreferrer noopener'\n              target='_blank'\n            >\n              {story.by} {' | '}\n            </SimpleLink>\n            <time dateTime={new Date(postedTime).toISOString()}>\n              {timeago(postedTime)}\n            </time>\n            {domainHost && (\n              <Host>\n                {' | '} {domainHost}\n              </Host>\n            )}\n          </Description>\n          <StoryItemActions story={story} />\n        </ContentBox>\n      </StoryListItem>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({});\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    setActiveStorySettings: storyID =>\n      dispatch(appActions.setActiveStorySettings({ currentActiveStorySetting: storyID })),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(StoryItem);\n","import StoryItem from 'components/Stories/StoryItem';\n\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { storyActions } from 'store/story/actions';\n\nexport class StoryBatch extends Component {\n  render() {\n    const { batchStories, bogusLoader } = this.props;\n    return (\n      <React.Fragment>\n        {batchStories &&\n          batchStories.map(story => (\n            <StoryItem key={story.id} story={story} bogusLoader={bogusLoader}></StoryItem>\n          ))}\n      </React.Fragment>\n    );\n  }\n}\n\nclass StoryBatchWrapper extends Component {\n  render() {\n    const {\n      batchStories,\n      bogusLoader,\n      batchIndex,\n      batchStoryIDs,\n      fetchedStories,\n    } = this.props;\n    let effectiveStories = batchStories;\n    if (!effectiveStories || batchStories.length === 0) {\n      effectiveStories = [];\n      if (fetchedStories) {\n        effectiveStories = batchStoryIDs\n          .filter(storyID => {\n            return storyID in fetchedStories;\n          })\n          .map(storyID => {\n            return fetchedStories[storyID];\n          });\n      }\n    }\n\n    return (\n      <StoryBatch\n        batchStories={effectiveStories}\n        batchIndex={batchIndex}\n        key={batchIndex}\n        bogusLoader={bogusLoader}\n      ></StoryBatch>\n    );\n  }\n\n  componentDidMount() {\n    const {\n      batchStories,\n      batchStoryIDs,\n      fetchBatchStoriesFromStoryIDs,\n      batchIndex,\n      pageIndex,\n    } = this.props;\n    if (!batchStories || batchStories.length === 0) {\n      fetchBatchStoriesFromStoryIDs(batchStoryIDs, batchIndex, pageIndex);\n    }\n  }\n}\n\nconst mapStateToWrapperProps = state => {\n  const storyReducer = state.story;\n  const fetchedStories = storyReducer.fetchedStories;\n  return {\n    theme: state.app.theme,\n    fetchedStories: fetchedStories,\n  };\n};\n\nconst mapDispatchToWrapperProps = dispatch => {\n  return {\n    fetchBatchStoriesFromStoryIDs: (batchStoryIDs, batchIndex, pageIndex) =>\n      dispatch(\n        storyActions.fetchBatchStoriesFromStoryIDs({\n          batchStoryIDs,\n          batchIndex,\n          pageIndex,\n        })\n      ),\n  };\n};\n\nexport default connect(\n  mapStateToWrapperProps,\n  mapDispatchToWrapperProps\n)(StoryBatchWrapper);\n","import React, { Component } from 'react';\nimport { StoryPageWrapper } from './styles';\nimport StoryBatchWrapper from '../StoryBatch';\nimport Utils from 'store/story/utils';\n\nclass StoryPage extends Component {\n  render() {\n    const { page, bogusLoader } = this.props;\n    const batches = Utils.getPageBatches(page);\n    return (\n      <StoryPageWrapper bogusLoader={bogusLoader}>\n        {batches &&\n          batches.map(batch => (\n            <StoryBatchWrapper\n              batchStoryIDs={batch.batchStoryIDs}\n              pageIndex={page.index}\n              batchStories={batch.batchStories}\n              batchIndex={batch.index}\n              key={batch.index}\n              bogusLoader={bogusLoader}\n            ></StoryBatchWrapper>\n          ))}\n      </StoryPageWrapper>\n    );\n  }\n}\n\nexport default StoryPage;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Loader } from 'components/Loader';\n\nimport { storyActions } from 'store/story/actions';\nimport Utils from 'store/story//utils';\n\nimport { hasMorePagesSelector } from 'store/story/selectors';\n\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport StoryPage from '../StoryPage';\n\nclass StoryPagesCollection extends Component {\n  constructor() {\n    super();\n    this.fetchNextPage = this.fetchNextPage.bind(this);\n    this.refreshData = this.refreshData.bind(this);\n  }\n\n  // override zones\n  componentDidMount() {\n    const { pagesFetched, fetchStoryPages } = this.props;\n    if (!pagesFetched) {\n      fetchStoryPages();\n    }\n  }\n\n  componentDidUpdate() {}\n\n  fetchNextPage(evt) {\n    const { nextPageToFetch, fetchBatchesForPage, storyIDs } = this.props;\n    if (nextPageToFetch >= 0) {\n      fetchBatchesForPage(storyIDs, nextPageToFetch);\n    }\n  }\n\n  refreshData() {\n    const { fetchStoryPages, reloadStories } = this.props;\n    reloadStories();\n    fetchStoryPages();\n  }\n\n  render() {\n    const { pagedStoriesFetched, hasMorePages, nextPageToFetch } = this.props;\n    return (\n      <InfiniteScroll\n        dataLength={pagedStoriesFetched.length}\n        next={this.fetchNextPage}\n        hasMore={hasMorePages}\n        loader={<Loader />}\n        refreshFunction={this.refreshData}\n        pullDownToRefresh={true}\n        style={{ height: '100%', overflow: 'visible' }}\n      >\n        {pagedStoriesFetched &&\n          pagedStoriesFetched.map(page => {\n            return <StoryPage key={page.index} page={page} />;\n          })}\n\n        {pagedStoriesFetched && nextPageToFetch > 1 && hasMorePages && <Loader />}\n      </InfiniteScroll>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  const storyReducer = state.story;\n\n  const { pages } = storyReducer;\n  return {\n    theme: state.app.theme,\n    storyIDs: storyReducer.storyIDs,\n    hasMorePages: hasMorePagesSelector(state),\n    isFetching: storyReducer.isFetching,\n    pagedStoriesFetched: Utils.getFetchedPages(pages),\n    nextPageToFetch: Utils.getNextPageToFetch(pages),\n    pagesFetched: storyReducer.pagesFetched,\n    pages: storyReducer.pages,\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    fetchBatchesForPage: (storyIDs, pageIndex) =>\n      dispatch(storyActions.fetchBatchesForPage({ storyIDs, pageIndex })),\n    fetchStoryPages: () =>\n      dispatch(storyActions.fetchStoryPages({ fetchFirstPage: true })),\n    reloadStories: () => dispatch(storyActions.reloadStories()),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(StoryPagesCollection);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { ThemeProvider } from 'styled-components';\n\nimport { Wrapper, LoaderWrapper, LoaderSize } from './style.js';\nimport NavBar from 'components/Navigation';\nimport StoryPagesCollection from 'components/Stories/StoryPagesCollection';\nimport { ModalProvider } from 'styled-react-modal';\n\nimport { authenticatedSelector } from 'store/auth/selectors';\nimport { storyActions } from 'store/story/actions';\nimport { DoubleBounceLoader } from 'components/Loader';\n\nclass App extends Component {\n  render() {\n    const { theme, firebaseReducer, pendingActions } = this.props;\n    const firebaseAuth = firebaseReducer.auth;\n    const isAuthLoaded = firebaseAuth.isLoaded;\n    const isLoading = !isAuthLoaded || pendingActions;\n    return (\n      <ThemeProvider theme={theme}>\n        <ModalProvider>\n          <Wrapper>\n            <NavBar firebaseAuth={firebaseAuth} />\n\n            {isLoading && (\n              <LoaderWrapper>\n                <DoubleBounceLoader color={theme.text.primary} size={LoaderSize} />\n              </LoaderWrapper>\n            )}\n\n            <StoryPagesCollection />\n          </Wrapper>\n        </ModalProvider>\n      </ThemeProvider>\n    );\n  }\n\n  componentDidMount() {\n    this.setBodyBackgroundColor();\n  }\n\n  componentDidUpdate() {\n    this.setBodyBackgroundColor();\n\n    const { isAuthenticated, fetchStoriesBookmark, fetchingBookmark } = this.props;\n\n    // authenticated, fetch the favourite stories\n    if (isAuthenticated && fetchingBookmark === null) {\n      fetchStoriesBookmark();\n    }\n  }\n\n  setBodyBackgroundColor() {\n    document.body.style = `background-color: ${this.props.theme.background.primary};`;\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    theme: state.app.theme,\n    firebaseReducer: state.firebase,\n    pendingActions: state.app.pendingActions,\n    isAuthenticated: authenticatedSelector(state),\n    fetchingBookmark: state.story.fetchingBookmark,\n    neverFetchedBookmark: state.story.favStories !== null,\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    fetchStoriesBookmark: () => dispatch(storyActions.fetchStoriesBookmark({})),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { createGlobalStyle } from 'styled-components';\n\nconst GlobalStyles = createGlobalStyle`\n    * {\n        box-sizing: border-box;\n    };\n\n    html, body {\n        font-family: Lato,Helvetica-Neue,Helvetica,Arial,sans-serif;\n        width: 100vw;\n        margin: 0;\n        padding: 0;\n      }\n      ul {\n        list-style: none;\n        padding: 0;\n      }\n      a {\n        text-decoration: none;\n        &:visited {\n          color: inherit;\n        }\n      }\n`;\n\nexport default GlobalStyles;\n","import thunk from 'redux-thunk';\nimport { createLogger } from 'redux-logger';\nimport { compose, applyMiddleware } from 'redux';\nimport { getFirebase } from 'react-redux-firebase';\nimport { getFirestore, reduxFirestore } from 'redux-firestore';\nimport firebase, { rrfConfig } from 'config/firebase';\n\nconst isProd = process.env.NODE_ENV === 'production';\nconst middlewares = [];\n\nmiddlewares.push(thunk.withExtraArgument({ getFirebase, getFirestore }));\n\nif (!isProd) {\n  middlewares.push(createLogger());\n}\n\nconst middleware = compose(\n  applyMiddleware(...middlewares),\n  reduxFirestore(firebase, rrfConfig)\n);\n\nexport default middleware;\n","import { actionTypes, LOCAL_STORAGE_PREFERENCE_THEME } from './actions';\n\nimport { themes } from 'styles/palette';\n\nconst getInitialState = () => {\n  // maybe the one currently store in the local storage?\n  const lastSavedTheme = localStorage.getItem(LOCAL_STORAGE_PREFERENCE_THEME);\n  const currentTheme = lastSavedTheme ? themes[lastSavedTheme] : themes.dark;\n\n  return {\n    theme: currentTheme,\n    mainMenuVisible: false,\n    currentActiveStorySetting: null,\n    pendingActions: false,\n  };\n};\n\nconst app = (state = getInitialState(), { type, payload }) => {\n  switch (type) {\n    case actionTypes.SHOW_MAIN_SETTINGS: {\n      const { visible } = payload;\n      return {\n        ...state,\n        mainMenuVisible: visible,\n      };\n    }\n    case actionTypes.SET_ACTIVE_STORY_SETTINGS: {\n      return { ...state, ...payload };\n    }\n    case actionTypes.SET_PENDING_ACTIONS: {\n      return { ...state, ...payload };\n    }\n    case actionTypes.SET_THEME:\n      return {\n        ...state,\n        ...payload,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default app;\n","import { actionTypes } from './actions';\nimport { PAGE_STATUS } from 'services/hackernewsAPI';\n\nconst initialState = () => ({\n  storyIDs: [],\n  pages: [],\n  error: '',\n  isFetching: false,\n  pagesFetched: false,\n  fetchedStories: {},\n\n  // bookmark\n  favStories: null,\n  fetchingBookmark: null,\n});\n\nconst story = (state = initialState(), { type, payload }) => {\n  switch (type) {\n    case actionTypes.RELOAD_STORIES: {\n      return initialState();\n    }\n    case actionTypes.FETCH_TOP_STORY_IDS_REQUEST: {\n      return {\n        ...state,\n        isFetching: true,\n      };\n    }\n    case actionTypes.FETCH_PAGE_STORIES_BATCH_REQUEST:\n    case actionTypes.FETCH_PAGE_STORIES_REQUEST: {\n      const { pageIndex } = payload;\n      state.pages[pageIndex].status = PAGE_STATUS.FETCHING;\n      return {\n        ...state,\n        isFetching: true,\n      };\n    }\n    case actionTypes.FETCH_PAGE_BATCH_STORIES_SUCCESS: {\n      const { batchStories } = payload;\n      batchStories.map(story => {\n        state.fetchedStories[story.id] = story;\n        return story.id;\n      });\n      return {\n        ...state,\n        isFetching: false,\n      };\n    }\n    case actionTypes.FETCH_TOP_STORY_IDS_SUCCESS: {\n      const { pages } = payload;\n      const pagesFetched = typeof pages !== 'undefined' && pages.length !== 0;\n\n      return {\n        ...state,\n        ...payload,\n        isFetching: false,\n        pagesFetched: pagesFetched,\n      };\n    }\n\n    case actionTypes.FETCH_PAGE_BATCHES_SUCCESS: {\n      const { pageStoryIDs, pageIndex } = payload;\n\n      state.pages[pageIndex].storyIDs = pageStoryIDs;\n      state.pages[pageIndex].status = PAGE_STATUS.FETCHED;\n      return {\n        ...state,\n        isFetching: false,\n      };\n    }\n\n    // bookmark\n    case actionTypes.FETCH_STORIES_BOOKMARK_REQUEST: {\n      return {\n        ...state,\n        fetchingBookmark: true,\n      };\n    }\n\n    case actionTypes.FETCH_STORIES_BOOKMARK_FAILURE: {\n      return {\n        ...state,\n        fetchingBookmark: false,\n      };\n    }\n\n    case actionTypes.FETCH_STORIES_BOOKMARK_SUCCESS: {\n      const { fetchedFavStories } = payload;\n      const favStories = state.favStories || {};\n      fetchedFavStories.map(favStory => {\n        favStories[favStory.id] = true;\n        return null;\n      });\n\n      return {\n        ...state,\n        favStories: favStories,\n        fetchingBookmark: false,\n      };\n    }\n\n    case actionTypes.LOAD_BOOKMARK_STORIES_REQUEST: {\n      return {\n        ...state,\n        isFetching: false,\n      };\n    }\n\n    case actionTypes.ADD_STORY_FAVORITE_SUCCESS: {\n      const { story } = payload;\n      if (state.favStories === null) {\n        state.favStories = {};\n      }\n      state.favStories[story.id] = true;\n      return {\n        ...state,\n        isFetching: false,\n      };\n    }\n\n    case actionTypes.REMOVE_STORY_FAVORITE_SUCCESS: {\n      const { story } = payload;\n      const { favStories } = state;\n      const { [story.id]: _, ...updatedFavStories } = favStories;\n      return {\n        ...state,\n        favStories: updatedFavStories,\n        isFetching: false,\n      };\n    }\n\n    default:\n      return state;\n  }\n};\n\nexport default story;\n","import { actionTypes } from './actions';\n\nconst initialState = () => ({\n  loginModalOpen: false,\n});\n\nconst auth = (state = initialState(), { type, payload }) => {\n  switch (type) {\n    case actionTypes.UPDATE_AUTH_STATE: {\n      const { user } = payload;\n      return {\n        ...state,\n        user: user,\n      };\n    }\n\n    case actionTypes.CLOSE_LOGIN_MODAL: {\n      return {\n        ...state,\n        loginModalOpen: false,\n      };\n    }\n\n    case actionTypes.OPEN_LOGIN_MODAL: {\n      return {\n        ...state,\n        loginModalOpen: true,\n      };\n    }\n\n    default:\n      return state;\n  }\n};\n\nexport default auth;\n","import { combineReducers } from 'redux';\n\nimport app from 'store/app/reducer';\nimport story from 'store/story/reducer';\nimport auth from 'store/auth/reducer';\nimport { firebaseReducer } from 'react-redux-firebase';\n\nconst rootReducer = combineReducers({\n  app,\n  story,\n  auth,\n  firebase: firebaseReducer,\n});\n\nexport default rootReducer;\n","import { createStore } from 'redux';\nimport middleware from './middleware';\nimport reducer from './reducer';\n\nconst configureStore = initialState => {\n  const store = createStore(reducer, initialState, middleware);\n  return store;\n};\n\nexport default configureStore;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from 'components/App';\nimport * as serviceWorker from './serviceWorker';\n\nimport GlobalStyles from 'styles/globals';\nimport configureStore from './store';\nimport { Provider } from 'react-redux';\nimport { ReactReduxFirebaseProvider } from 'react-redux-firebase';\nimport firebase, { rrfConfig } from 'config/firebase';\nimport { createFirestoreInstance } from 'redux-firestore';\n\nconst renderApp = () => {\n  const store = configureStore();\n\n  if (process.env.NODE_ENV !== 'production') {\n  }\n\n  const rrfProps = {\n    firebase,\n    config: rrfConfig,\n    dispatch: store.dispatch,\n    createFirestoreInstance,\n  };\n\n  ReactDOM.render(\n    <Provider store={store}>\n      <ReactReduxFirebaseProvider {...rrfProps}>\n        <div>\n          <GlobalStyles />\n          <App />\n        </div>\n      </ReactReduxFirebaseProvider>\n    </Provider>,\n    document.getElementById('root')\n  );\n};\n\nrenderApp();\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}