(this["webpackJsonphackernews-reader"]=this["webpackJsonphackernews-reader"]||[]).push([[0],{40:function(e,n,t){e.exports=t(66)},66:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(15),c=t.n(o),i=t(3),u=t(4),s=t(7),l=t(6),h=t(8),f=t(9),d=t(1),p=t(2),m="@media only screen and (max-width: 768px)";function g(){var e=Object(p.a)(["\n  width: 50%;\n  margin-left: auto;\n  margin-right: auto;\n  height: 100%;\n  overflow: hidden;\n  padding-bottom: 200px;\n  "," {\n    width: 96%;\n  }\n"]);return g=function(){return e},e}var b=d.d.div(g(),m),S=t(12);function E(){var e=Object(p.a)(["\n  width: ","px;\n  height: ","px;\n  fill: ",";\n"]);return E=function(){return e},e}function y(){var e=Object(p.a)(["\n  display: flex;\n  cursor: pointer;\n  font-size: ","px;\n  color: ",";\n  align-items: center;\n  text-align: center;\n  padding-right: 10px;\n"]);return y=function(){return e},e}function v(){var e=Object(p.a)(["\n  display: flex;\n  margin-left: auto;\n  order: 2;\n"]);return v=function(){return e},e}function _(){var e=Object(p.a)(["\n  display: flex;\n"]);return _=function(){return e},e}function T(){var e=Object(p.a)(["\n  color: ",";\n  font-size: 24px;\n  font-weight: 300;\n  display: flex;\n  text-align: center;\n  align-items: center;\n  margin-left: 5px;\n"]);return T=function(){return e},e}function O(){var e=Object(p.a)(["\n  background-color: ",";\n  height: ","px;\n  width: 100%;\n  display: flex;\n  padding: 12px;\n  border-bottom: solid 1px ",";\n"]);return O=function(){return e},e}var x=d.d.header(O(),(function(e){return e.theme.background.secondary}),60,(function(e){return e.theme.border})),C=d.d.h1(T(),(function(e){return e.theme.text.primary})),I=d.d.a(_()),j=d.d.div(v()),k=d.d.div(y(),14,(function(e){return e.theme.text.secondary})),F=d.d.svg(E(),36,36,(function(e){return e.theme.logo.color})),P={dark:{name:"dark",background:{primary:"#000",secondary:"#0d0a08"},text:{primary:"#bfbebe",secondary:"#848886",disabled:""},hot:{primary:"#ff0000",secondary:"#af0404"},warning:{primary:"#bfbebe",secondary:"#848886"},error:{primary:"#bfbebe",secondary:"#848886"},border:"#272727",logo:{color:"#f57b51"},chatbox:{background:"#331400"},hover:{brightness:"200%",linkColor:""}},light:{name:"light",background:{primary:"#f9f9f9",secondary:"#f3f3f3"},text:{primary:"#000000",secondary:"#0f4c81",disabled:"",primaryHover:"#ff0000"},hot:{primary:"#ff0000",secondary:"#af0404"},warning:{primary:"#bfbebe",secondary:"#848886"},error:{primary:"#bfbebe",secondary:"#848886"},border:"#272727",logo:{color:"#f57b51"},chatbox:{background:"#fff0f0"},hover:{brightness:"95% ",linkColor:"#ff0000 !important"}}},D={SET_THEME:"".concat("@hsReader/app","/SET_THEME")},H={setTheme:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.theme;return localStorage.setItem("preferences.theme",n.name),{type:D.SET_THEME,payload:e}}},R=t(17),A=function(e){function n(){var e;return Object(i.a)(this,n),(e=Object(s.a)(this,Object(l.a)(n).call(this))).toggleTheme=e.toggleTheme.bind(Object(S.a)(e)),e}return Object(h.a)(n,e),Object(u.a)(n,[{key:"toggleTheme",value:function(e){var n=this.props,t=n.theme,r=n.setTheme;t.name===P.dark.name?r(P.light):r(P.dark)}},{key:"render",value:function(){var e=this.props.theme;return a.a.createElement(x,null,a.a.createElement(I,{href:"/"},a.a.createElement(F,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M20.496 9.026c-2.183-.93-5.116-1.53-8.25-1.695-.5-.03-.987-.04-1.45-.04 2.318-2.83 4.802-4.73 6.437-4.79.322-.013.595.055.813.196.706.458.905 1.768.545 3.59-.04.25.12.493.36.54.25.05.49-.11.54-.36.45-2.28.12-3.846-.94-4.538-.38-.248-.84-.365-1.35-.346-2.05.077-4.94 2.3-7.59 5.72-1.154.035-2.24.13-3.232.287-.646-2.897-.39-4.977.594-5.477.138-.073.285-.11.457-.124.697-.054 1.66.395 2.71 1.27.194.16.486.14.646-.06a.458.458 0 00-.06-.645C9.466 1.51 8.304 1 7.354 1.07a2.244 2.244 0 00-.803.22c-1.19.607-1.67 2.327-1.37 4.838.07.52.16 1.062.29 1.62C2.19 8.404.1 9.718.01 11.372c-.06 1.17.865 2.284 2.68 3.222a.46.46 0 10.42-.816C1.66 13.032.88 12.19.927 11.42c.05-1.08 1.772-2.19 4.76-2.78.27.994.62 2.032 1.05 3.09-1.018 1.888-1.756 3.747-2.137 5.4-.56 2.465-.26 4.22.86 4.948.36.234.78.35 1.247.35.935 0 2.067-.46 3.347-1.372a.458.458 0 10-.53-.746c-1.544 1.103-2.844 1.472-3.562 1.003-.76-.495-.926-1.943-.46-3.976.32-1.386.907-2.93 1.708-4.52.2.438.41.876.63 1.313 1.425 2.796 3.17 5.227 4.91 6.845 1.386 1.29 2.674 1.963 3.735 1.963.35 0 .68-.075.976-.223 1.145-.585 1.64-2.21 1.398-4.575-.224-2.213-1.06-4.91-2.354-7.6a.46.46 0 00-.83.396c2.69 5.602 2.88 10.19 1.37 10.96-1.59.813-5.424-2.355-8.39-8.18-.34-.655-.637-1.3-.9-1.93.34-.608.7-1.22 1.095-1.83.395-.604.806-1.188 1.224-1.745h.394c.54 0 1.126.01 1.734.048 6.53.343 10.975 2.56 10.884 4.334-.04.765-.924 1.538-2.425 2.12a.464.464 0 00-.26.596.455.455 0 00.593.262c1.905-.74 2.95-1.756 3.01-2.93.07-1.33-1.17-2.61-3.5-3.6v-.01zM8.08 9.45c-.27.415-.52.827-.764 1.244a23.66 23.66 0 01-.723-2.215c.713-.11 1.485-.19 2.31-.24-.28.39-.554.794-.82 1.21v-.01zm3.925 1.175a1.375 1.375 0 100 2.75 1.375 1.375 0 100-2.75z"}))),a.a.createElement(C,null,"Hackernews Alternative UI"),a.a.createElement(j,null,e.name===P.dark.name?a.a.createElement(k,{onClick:this.toggleTheme},a.a.createElement(R.b,null)):a.a.createElement(k,{onClick:this.toggleTheme},a.a.createElement(R.a,null))))}}]),n}(r.Component),w=Object(f.b)((function(e){return{theme:e.app.theme}}),(function(e){return{setTheme:function(n){return e(H.setTheme({theme:n}))}}}))(A);function U(){var e=Object(p.a)(["\n  text-align: center;\n  span {\n    color: ",";\n    display: inline-block;\n    margin-left: 4px;\n    margin-right: 4px;\n    font-size: 80px;\n    line-height: 0.1;\n\n    ","\n  }\n"]);return U=function(){return e},e}function B(){var e=Object(p.a)(["\n  /**\n   * Use the blink animation, which is defined above\n   */\n  animation-name: ",";\n  /**\n   * The total time of animation\n   */\n  animation-duration: 1s;\n  /**\n   * It will repeat itself forever\n   */\n  animation-iteration-count: infinite;\n  /**\n   * This makes sure that the starting style (opacity: .2)\n   * of the animation is applied before the animation starts.\n   * Otherwise we would see a short flash or would have\n   * to set the default styling of the dots to the same\n   * as the animation. Same applies for the ending styles.\n   */\n  animation-fill-mode: both;\n\n  &:nth-child(2) {\n    animation-delay: 0.2s;\n  }\n\n  &:nth-child(3) {\n    animation-delay: 0.4s;\n  }\n"]);return B=function(){return e},e}function L(){var e=Object(p.a)(["\n  /**\n  * At the start of the animation the dot\n  * has an opacity of .2\n  */\n  0% {\n    opacity: .2;\n  }\n  /**\n  * At 20% the dot is fully visible and\n  * then fades out slowly\n  */\n  20% {\n    opacity: 1;\n  }\n  /**\n  * Until it reaches an opacity of .2 and\n  * the animation can start again\n  */\n  100% {\n    opacity: .2;\n  }\n"]);return L=function(){return e},e}var G=Object(d.e)(L()),Y=Object(d.c)(B(),G),Q=d.d.div(U(),(function(e){return e.theme.text.secondary}),Y),z=function(){return a.a.createElement("div",null,a.a.createElement(Q,null,a.a.createElement("span",null,"."),a.a.createElement("span",null,"."),a.a.createElement("span",null,".")))},M=t(10),N=t(33),W=t.n(N),K=Object({NODE_ENV:"production",PUBLIC_URL:"/hackernews-reader",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).URL||"http://localhost:3000",J={"Content-Type":"application/json",Accept:"application/json"},$="https://hacker-news.firebaseio.com/v0",V=new(function(){function e(n){var t=n.baseURL,r=void 0===t?K:t,a=n.timeout,o=void 0===a?2e4:a,c=n.headers,u=void 0===c?J:c,s=n.auth;Object(i.a)(this,e);var l=W.a.create({baseURL:r,timeout:o,headers:u,auth:s});l.interceptors.response.use(this.handleSuccess,this.handleError),this.client=l}return Object(u.a)(e,[{key:"handleSuccess",value:function(e){return e}},{key:"handleError",value:function(e){return Promise.reject(e)}},{key:"get",value:function(e){return this.client.get(e).then((function(e){return e.data}))}},{key:"post",value:function(e,n){return this.client.post(e,n).then((function(e){return e.data}))}},{key:"put",value:function(e,n){return this.client.put(e,n).then((function(e){return e.data}))}},{key:"patch",value:function(e,n){return this.client.patch(e,n).then((function(e){return e.data}))}},{key:"delete",value:function(e){return this.client.delete(e).then((function(e){return e.data}))}}]),e}())({baseURL:$}),q="toFetch",X="fetching",Z="fetched",ee={fetchTopStoriesIDs:function(){return V.get("".concat($,"/topstories").concat(".json?print=pretty"))},fetchStory:function(e){return V.get("".concat($,"/item/").concat(e,"/").concat(".json?print=pretty"))},getPageStoryIDs:function(e,n){var t=ee.getPageRange(20,n),r=t.start,a=t.end;return ee.getPageItems(e,r,a)},fetchStoriesByPage:function(e,n){var t=ee.getPageStoryIDs(e,n);if(t){var r=t.map((function(e){return ee.fetchStory(e)}));return Promise.all(r)}return Promise.resolve([])},fetchStoriesIdsAsync:function(e){return e.map((function(e){return ee.fetchStory(e)}))},splitStoryIDsIntoPages:function(e,n){var t=n||20;return e.map((function(n,r){return r%t===0?e.slice(r,r+t):null})).filter((function(e){return e})).map((function(e,n){return{index:n,storyIDs:e,status:q}}))},getPageRange:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{start:e*n,end:e*(n+1)}},getPageItems:function(e,n,t){return e.slice(n,t)},getUserDetailLink:function(e){return"https://news.ycombinator.com/user?id=".concat(e)},getStoryCommentURL:function(e){return"https://news.ycombinator.com/item?id=".concat(e)}},ne=ee,te="@hnReader/Story",re={FETCH_TOP_STORY_IDS_REQUEST:"".concat(te,"/FETCH_TOP_STORY_IDS_REQUEST"),FETCH_TOP_STORY_IDS_SUCCESS:"".concat(te,"/FETCH_TOP_STORY_IDS_SUCCESS"),FETCH_TOP_STORY_IDS_FAILURE:"".concat(te,"/FETCH_TOP_STORY_IDS_FAILURE"),FETCH_PAGE_BATCH_STORY_IDS_REQUEST:"".concat(te,"/FETCH_PAGE_BATCH_STORY_IDS_REQUEST"),FETCH_PAGE_BATCH_STORY_IDS_SUCCESS:"".concat(te,"/FETCH_PAGE_BATCH_STORY_IDS_SUCCESS"),FETCH_PAGE_BATCH_STORY_IDS_FAILURE:"".concat(te,"/FETCH_PAGE_BATCH_STORY_IDS_FAILURE"),FETCH_PAGE_BATCHES_REQUEST:"".concat(te,"/FETCH_PAGE_BATCHES_REQUEST"),FETCH_PAGE_BATCHES_SUCCESS:"".concat(te,"/FETCH_PAGE_BATCHES_SUCCESS"),FETCH_PAGE_BATCHES_FAILURE:"".concat(te,"/FETCH_PAGE_BATCHES_FAILURE"),FETCH_PAGE_BATCH_STORIES_REQUEST:"".concat(te,"/FETCH_PAGE_BATCH_STORIES_REQUEST"),FETCH_PAGE_BATCH_STORIES_SUCCESS:"".concat(te,"/FETCH_PAGE_BATCH_STORIES_SUCCESS"),RELOAD_STORIES:"".concat(te,"/RELOAD_STORIES")},ae=function(e,n){return{type:e,payload:n}},oe={reloadStories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(n){n(ae(re.RELOAD_STORIES,e))}},fetchStoryPages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={payload:e};return function(t){return t(ae(re.FETCH_TOP_STORY_IDS_REQUEST,e)),ne.fetchTopStoriesIDs().then((function(e){var r=ne.splitStoryIDsIntoPages(e);t(ae(re.FETCH_TOP_STORY_IDS_SUCCESS,{storyIDs:e,pages:r})),n&&t(oe.fetchBatchesForPage({storyIDs:e,pageIndex:0}))})).catch((function(e){t(ae(re.FETCH_TOP_STORY_IDS_FAILURE,e))}))}},fetchBatchStoriesFromStoryIDs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(n){var t=e.batchStoryIDs,r=e.pageIndex;n(ae(re.FETCH_PAGE_BATCH_STORIES_REQUEST,Object(M.a)({},e,{pageIndex:r,batchStoryIDs:t})));var a=t.map((function(e){return ne.fetchStory(e)}));return Promise.all(a).then((function(t){var r=Object(M.a)({},e,{batchStories:t});n(ae(re.FETCH_PAGE_BATCH_STORIES_SUCCESS,r))}))}},fetchBatchesForPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(n){n(ae(re.FETCH_PAGE_BATCHES_REQUEST,e));var t=e.storyIDs,r=e.pageIndex,a=ne.getPageStoryIDs(t,r);n(ae(re.FETCH_PAGE_BATCHES_SUCCESS,Object(M.a)({},e,{pageStoryIDs:a})))}}},ce=oe,ie=function(){function e(){Object(i.a)(this,e)}return Object(u.a)(e,null,[{key:"getNextPageToFetch",value:function(e){var n=e.find((function(e){return e.status!==Z}));return n?n.index:-1}},{key:"getFetchedPages",value:function(e){return e.filter((function(e){return e.status===Z}))}},{key:"getPageBatches",value:function(e){var n=e.stories||[];return e.storyIDs.map((function(n,t){return t%5===0?e.storyIDs.slice(t,t+5):null})).filter((function(e){return e})).map((function(t,r){return{index:5*e.index+r,batchStoryIDs:t,batchStories:n.slice(e.index,e.index+5)}}))}}]),e}(),ue=t(34),se=Object(ue.a)((function(e){var n=e.story.pages;return n?n.map((function(e){return e.index})):0}),(function(e){var n=e.story.pages;return n?n.filter((function(e){return e.status===Z})).map((function(e){return e.index})):0}),(function(e,n){return e.length>n.length})),le=t(35);function he(){var e=Object(p.a)(["\n  background-color: ",";\n  border-radius: 4px;\n  margin-left: auto;\n  margin-right: auto;\n  margin-bottom: 20px;\n  display: flex;\n  flex-direction: column;\n\n  margin-before: 1em;\n  margin-after: 1em;\n  margin-start: 0;\n  margin-end: 0;\n  margin: 0;\n"]);return he=function(){return e},e}var fe=d.d.ul(he(),(function(e){return e.theme.backgroundSecondary})),de=t(36),pe=t.n(de);function me(){var e=Object(p.a)(["\n  color: ",";\n"]);return me=function(){return e},e}function ge(){var e=Object(p.a)(["\n  color: ",";\n  &:visited {\n    color: ",";\n  }\n"]);return ge=function(){return e},e}function be(){var e=Object(p.a)(["\n  font-size: 12px;\n  color: ",";\n"]);return be=function(){return e},e}function Se(){var e=Object(p.a)(["\n  color: ",";\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  text-decoration: none;\n\n  &:hover {\n    color: ",";\n    h1,\n    h2,\n    h3,\n    span {\n      color: ",";\n    }\n  }\n"]);return Se=function(){return e},e}function Ee(){var e=Object(p.a)(["\n  color: ",";\n  font-size: 12px;\n"]);return Ee=function(){return e},e}function ye(){var e=Object(p.a)(["\n  color: ",";\n  margin-top: 0;\n  margin-bottom: 6px;\n  font-weight: 400;\n  font-size: 16px;\n  letter-spacing: 0.4px;\n  margin-right: 5px;\n"]);return ye=function(){return e},e}function ve(){var e=Object(p.a)(["\n      ","\n    "]);return ve=function(){return e},e}function _e(){var e=Object(p.a)(["\n  border-bottom: 1px solid ",";\n  border-top: 1px solid ",";\n\n  flex-flow: row wrap;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n\n  ","\n\n  &:hover {\n    filter: brightness(",");\n  }\n"]);return _e=function(){return e},e}function Te(){var e=Object(p.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 14px 0 14px 14px;\n  justify-content: center;\n  flex: 1;\n\n  "," {\n    padding: 12px 0 12px 6px;\n  }\n"]);return Te=function(){return e},e}function Oe(){var e=Object(p.a)(["\n  background-color: ",";\n\n  color: #ff6600;\n  margin-top: 5px;\n\n  display: inline-block;\n  border-radius: 10%;\n  padding: 1px 6px;\n  text-align: center;\n  font-style: normal;\n  font-size: 12px;\n  line-height: 1.45;\n\n  "," {\n    line-height: 1;\n  }\n\n  &:after {\n    margin-top: -0.13rem;\n    margin-left: 0.07rem;\n    border-width: 0.6rem 0.66rem 0 0;\n  }\n"]);return Oe=function(){return e},e}function xe(){var e=Object(p.a)(["\n  min-width: 80px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: ",";\n  flex-direction: column;\n  background-color: ",";\n  padding: 14px;\n\n  "," {\n    min-width: 60px;\n    padding: 12px;\n  }\n"]);return xe=function(){return e},e}function Ce(){var e=Object(p.a)(["\n  font-size: 12px;\n  color: ",";\n"]);return Ce=function(){return e},e}var Ie=d.d.div(Ce(),(function(e){return e.theme.hot.primary})),je=d.d.div(xe(),(function(e){return e.theme.hot.primary}),(function(e){return e.theme.background.secondary}),m),ke=d.d.div(Oe(),(function(e){return e.theme.chatbox.background}),m),Fe=d.d.div(Te(),m),Pe=d.d.li(_e(),(function(e){return e.theme.border}),(function(e){return e.theme.border}),(function(e){return e.bogusLoader&&Object(d.c)(ve(),Y)}),(function(e){return e.theme.hover.brightness})),De=d.d.h3(ye(),(function(e){return e.theme.text.primary})),He=d.d.span(Ee(),(function(e){return e.theme.text.secondary})),Re=d.d.a(Se(),(function(e){return e.theme.text.primary}),(function(e){return e.theme.hover.linkColor}),(function(e){return e.theme.hover.linkColor})),Ae=d.d.div(be(),(function(e){return e.theme.text.secondary})),we=d.d.a(ge(),(function(e){return e.theme.text.secondary}),(function(e){return e.theme.text.secondary})),Ue=d.d.div(me(),(function(e){return e.theme.text.secondary})),Be=function(e){function n(){return Object(i.a)(this,n),Object(s.a)(this,Object(l.a)(n).apply(this,arguments))}return Object(h.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){var e=this.props,n=e.story,t=e.bogusLoader,r=1e3*n.time,o=function(e){var n=void 0;if(e){var t=e.match(/^https:\/\/([^/?#]+)(?:[/?#]|$)/i);n=t&&t[1]}return n}(n.url),c=ne.getStoryCommentURL(n.id);return a.a.createElement(Pe,{bogusLoader:t},a.a.createElement(Re,{href:c},a.a.createElement(je,null,a.a.createElement(Ie,{href:c,rel:"nofollow noreferrer noopener",target:"_blank"},n.score),a.a.createElement(ke,null,a.a.createElement(Ue,{href:c,rel:"nofollow noreferrer noopener",target:"_blank"}," ",n.descendants)))),a.a.createElement(Fe,null,a.a.createElement(Re,{href:n.url,rel:"nofollow noreferrer noopener",target:"_blank"},a.a.createElement(De,null,n.title)),a.a.createElement(Ae,null,a.a.createElement(we,{href:ne.getUserDetailLink(n.by),rel:"nofollow noreferrer noopener",target:"_blank"},n.by," "," | "),a.a.createElement("time",{dateTime:new Date(r).toISOString()},pe()(r)),o&&a.a.createElement(He,null," | "," ",o))))}}]),n}(r.Component),Le=Object(f.b)((function(e){return{}}),{})(Be),Ge=function(e){function n(){return Object(i.a)(this,n),Object(s.a)(this,Object(l.a)(n).apply(this,arguments))}return Object(h.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){var e=this.props,n=e.batchStories,t=e.bogusLoader;return a.a.createElement(a.a.Fragment,null,n&&n.map((function(e){return a.a.createElement(Le,{key:e.id,story:e,bogusLoader:t})})))}}]),n}(r.Component),Ye=function(e){function n(){return Object(i.a)(this,n),Object(s.a)(this,Object(l.a)(n).apply(this,arguments))}return Object(h.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){var e=this.props,n=e.batchStories,t=e.bogusLoader,r=e.batchIndex,o=e.batchStoryIDs,c=e.fetchedStories,i=n;return i&&0!==n.length||(i=[],c&&(i=o.filter((function(e){return e in c})).map((function(e){return c[e]})))),a.a.createElement(Ge,{batchStories:i,batchIndex:r,key:r,bogusLoader:t})}},{key:"componentDidMount",value:function(){var e=this.props,n=e.batchStories,t=e.batchStoryIDs,r=e.fetchBatchStoriesFromStoryIDs,a=e.batchIndex,o=e.pageIndex;n&&0!==n.length||r(t,a,o)}}]),n}(r.Component),Qe=Object(f.b)((function(e){var n=e.story.fetchedStories;return{theme:e.app.theme,fetchedStories:n}}),(function(e){return{fetchBatchStoriesFromStoryIDs:function(n,t,r){return e(ce.fetchBatchStoriesFromStoryIDs({batchStoryIDs:n,batchIndex:t,pageIndex:r}))}}}))(Ye),ze=function(e){function n(){return Object(i.a)(this,n),Object(s.a)(this,Object(l.a)(n).apply(this,arguments))}return Object(h.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){var e=this.props,n=e.page,t=e.bogusLoader,r=ie.getPageBatches(n);return a.a.createElement(fe,{bogusLoader:t},r&&r.map((function(e){return a.a.createElement(Qe,{batchStoryIDs:e.batchStoryIDs,pageIndex:n.index,batchStories:e.batchStories,batchIndex:e.index,key:e.index,bogusLoader:t})})))}}]),n}(r.Component),Me=function(e){function n(){var e;return Object(i.a)(this,n),(e=Object(s.a)(this,Object(l.a)(n).call(this))).fetchNextPage=e.fetchNextPage.bind(Object(S.a)(e)),e.refreshData=e.refreshData.bind(Object(S.a)(e)),e}return Object(h.a)(n,e),Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,n=e.pagesFetched,t=e.fetchStoryPages;n||t()}},{key:"componentDidUpdate",value:function(){}},{key:"fetchNextPage",value:function(e){var n=this.props,t=n.nextPageToFetch,r=n.fetchBatchesForPage,a=n.storyIDs;t>=0&&r(a,t)}},{key:"refreshData",value:function(){var e=this.props,n=e.fetchStoryPages;(0,e.reloadStories)(),n()}},{key:"render",value:function(){var e=this.props,n=e.pagedStoriesFetched,t=e.hasMorePages;return a.a.createElement(le.a,{dataLength:n.length,next:this.fetchNextPage,hasMore:t,loader:a.a.createElement(z,null),refreshFunction:this.refreshData,pullDownToRefresh:!0,style:{height:"100%",overflow:"visible"}},n&&n.map((function(e){return a.a.createElement(ze,{key:e.index,page:e})})))}}]),n}(r.Component),Ne=Object(f.b)((function(e){var n=e.story,t=n.pages;return{theme:e.app.theme,storyIDs:n.storyIDs,hasMorePages:se(e),isFetching:n.isFetching,pagedStoriesFetched:ie.getFetchedPages(t),nextPageToFetch:ie.getNextPageToFetch(t),pagesFetched:n.pagesFetched,pages:n.pages}}),(function(e){return{fetchBatchesForPage:function(n,t){return e(ce.fetchBatchesForPage({storyIDs:n,pageIndex:t}))},fetchStoryPages:function(){return e(ce.fetchStoryPages({fetchFirstPage:!0}))},reloadStories:function(){return e(ce.reloadStories())}}}))(Me),We=function(e){function n(){return Object(i.a)(this,n),Object(s.a)(this,Object(l.a)(n).apply(this,arguments))}return Object(h.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){var e=this.props.theme;return a.a.createElement(d.a,{theme:e},a.a.createElement("div",null,a.a.createElement(b,null,a.a.createElement(w,null),a.a.createElement(Ne,null))))}},{key:"componentDidMount",value:function(){this.setBodyBackgroundColor()}},{key:"componentDidUpdate",value:function(){this.setBodyBackgroundColor()}},{key:"setBodyBackgroundColor",value:function(){document.body.style="background-color: ".concat(this.props.theme.background.primary)}}]),n}(r.Component),Ke=Object(f.b)((function(e){return{theme:e.app.theme}}),(function(e){return{}}))(We);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Je(){var e=Object(p.a)(["\n    * {\n        box-sizing: border-box;\n    };\n\n    html, body {\n        font-family: Lato,Helvetica-Neue,Helvetica,Arial,sans-serif;\n        width: 100vw;\n        overflow-x: hidden;\n        margin: 0;\n        padding: 0;\n      }\n      ul {\n        list-style: none;\n        padding: 0;\n      }\n      a {\n        text-decoration: none;\n        &:visited {\n          color: inherit;\n        }\n      }\n"]);return Je=function(){return e},e}var $e=Object(d.b)(Je()),Ve=t(11),qe=t(37),Xe=(t(38),[]);Xe.push(qe.a);var Ze=Object(Ve.d)(Ve.a.apply(void 0,Xe)),en=function(){var e=localStorage.getItem("preferences.theme");return e?{theme:P[e]}:{theme:P.dark}},nn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:en(),n=arguments.length>1?arguments[1]:void 0,t=n.type,r=n.payload;switch(t){case D.SET_THEME:return Object(M.a)({},e,{},r);default:return e}},tn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{storyIDs:[],pages:[],error:"",isFetching:!1,pagesFetched:!1,fetchedStories:{}},n=arguments.length>1?arguments[1]:void 0,t=n.type,r=n.payload;switch(t){case re.RELOAD_STORIES:return{storyIDs:[],pages:[],error:"",isFetching:!1,pagesFetched:!1,fetchedStories:{}};case re.FETCH_TOP_STORY_IDS_REQUEST:return Object(M.a)({},e,{isFetching:!0});case re.FETCH_PAGE_STORIES_BATCH_REQUEST:case re.FETCH_PAGE_STORIES_REQUEST:var a=r.pageIndex;return e.pages[a].status=X,Object(M.a)({},e,{isFetching:!0});case re.FETCH_PAGE_BATCH_STORIES_SUCCESS:var o=r.batchStories;return o.map((function(n){e.fetchedStories[n.id]=n})),Object(M.a)({},e,{isFetching:!1});case re.FETCH_TOP_STORY_IDS_SUCCESS:var c=r.pages,i="undefined"!==typeof c&&0!==c.length;return Object(M.a)({},e,{},r,{isFetching:!1,pagesFetched:i});case re.FETCH_PAGE_BATCHES_SUCCESS:var u=r.pageStoryIDs,s=r.pageIndex;return e.pages[s].storyIDs=u,e.pages[s].status=Z,Object(M.a)({},e,{isFetching:!1});default:return e}},rn=Object(Ve.c)({app:nn,story:tn}),an=function(e){return Object(Ve.e)(rn,e,Ze)};!function(){var e=an();c.a.render(a.a.createElement(f.a,{store:e},a.a.createElement("div",null,a.a.createElement($e,null),a.a.createElement(Ke,null))),document.getElementById("root"))}(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.892166df.chunk.js.map