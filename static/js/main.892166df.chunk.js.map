{"version":3,"sources":["styles/mediaQueries.js","components/App/style.js","components/Navigation/styles.js","styles/palette.js","store/app/actions.js","components/Navigation/index.js","components/Loader/styles.js","components/Loader/index.js","services/API.js","services/hackernewsAPI.js","store/story/actions.js","store/story/utils.js","store/story/selectors.js","components/Stories/StoryPage/styles.js","components/Stories/StoryItem/styles.js","components/Stories/StoryItem/index.js","utils/Utils.js","components/Stories/StoryBatch/index.js","components/Stories/StoryPage/index.js","components/Stories/StoryPagesCollection/index.js","components/App/index.js","serviceWorker.js","styles/globals.js","store/middleware.js","store/app/reducer.js","store/story/reducer.js","store/reducer.js","store/index.js","index.js"],"names":["tablet","Wrapper","styled","div","Header","header","theme","background","secondary","border","Title","h1","text","primary","Link","a","Nav","Action","Logo","svg","logo","color","themes","dark","name","disabled","hot","warning","error","chatbox","hover","brightness","linkColor","light","primaryHover","actionTypes","SET_THEME","actions","setTheme","payload","localStorage","setItem","type","NavBar","toggleTheme","bind","evt","this","props","href","viewBox","xmlns","d","onClick","Component","connect","state","app","dispatch","blink","keyframes","AnimitedBlink","css","Animation","Loader","API_ROOT","process","URL","HEADERS","Accept","BASE_URL","API_CLIENT","baseURL","timeout","headers","auth","client","axios","create","interceptors","response","use","handleSuccess","handleError","Promise","reject","path","get","then","data","post","put","patch","delete","PAGE_STATUS","hackerNewsApi","fetchTopStoriesIDs","fetchStory","id","getPageStoryIDs","ids","page","getPageRange","start","end","getPageItems","fetchStoriesByPage","pageIDs","storyPromises","map","all","resolve","fetchStoriesIdsAsync","storyIDs","splitStoryIDsIntoPages","chunkSize","pageSize","item","idx","slice","filter","e","pageStoryIDs","pageIndex","index","status","limit","items","getUserDetailLink","userID","getStoryCommentURL","storyID","NS","FETCH_TOP_STORY_IDS_REQUEST","FETCH_TOP_STORY_IDS_SUCCESS","FETCH_TOP_STORY_IDS_FAILURE","FETCH_PAGE_BATCH_STORY_IDS_REQUEST","FETCH_PAGE_BATCH_STORY_IDS_SUCCESS","FETCH_PAGE_BATCH_STORY_IDS_FAILURE","FETCH_PAGE_BATCHES_REQUEST","FETCH_PAGE_BATCHES_SUCCESS","FETCH_PAGE_BATCHES_FAILURE","FETCH_PAGE_BATCH_STORIES_REQUEST","FETCH_PAGE_BATCH_STORIES_SUCCESS","RELOAD_STORIES","defaultAction","reloadStories","fetchStoryPages","fetchFirstPage","pages","fetchBatchesForPage","catch","err","fetchBatchStoriesFromStoryIDs","batchStoryIDs","batchStoryPromises","batchStories","successPayload","Utils","toFetchPage","find","stories","batchIndex","hasMorePagesSelector","createSelector","story","totalPages","fetchedPages","length","StoryPageWrapper","ul","backgroundSecondary","BoxScore","HotBox","ChatBox","ContentBox","StoryListItem","li","bogusLoader","h3","Host","span","ExternalLink","Description","SimpleLink","CommentLink","StoryItem","postedTime","time","domainHost","url","domain","undefined","urlMatches","match","getHostFromURL","commentURL","hackernewsAPI","rel","target","score","descendants","title","by","dateTime","Date","toISOString","timeago","StoryBatch","Fragment","key","StoryBatchWrapper","fetchedStories","effectiveStories","StoryPage","batches","getPageBatches","batch","StoryPagesCollection","fetchNextPage","refreshData","pagesFetched","nextPageToFetch","pagedStoriesFetched","hasMorePages","dataLength","next","hasMore","loader","refreshFunction","pullDownToRefresh","style","height","overflow","storyReducer","isFetching","getFetchedPages","getNextPageToFetch","App","setBodyBackgroundColor","document","body","Boolean","window","location","hostname","GlobalStyles","createGlobalStyle","middlewares","push","thunk","middleware","compose","applyMiddleware","getInitialState","lastSavedTheme","getItem","FETCH_PAGE_STORIES_BATCH_REQUEST","FETCH_PAGE_STORIES_REQUEST","rootReducer","combineReducers","configureStore","initialState","createStore","reducer","store","ReactDOM","render","getElementById","renderApp","navigator","serviceWorker","ready","registration","unregister","console","message"],"mappings":"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","file":"static/js/main.892166df.chunk.js","sourcesContent":["export const mobile = \"@media only screen and (max-width: 480px)\"\nexport const tablet = \"@media only screen and (max-width: 768px)\"\nexport const monitor = \"@media only screen and (min-width: 1440px)\"\n","import styled from \"styled-components\"\nimport {tablet} from \"styles/mediaQueries\"\n\nexport const Wrapper = styled.div`\n  width: 50%;\n  margin-left: auto;\n  margin-right: auto;\n  height: 100%;\n  overflow: hidden;\n  padding-bottom: 200px;\n  ${tablet} {\n    width: 96%;\n  }\n`\n","import styled from \"styled-components\"\n\n// Header, Link, Logo, Nav, Action\n\nconst HEADER_HEIGHT = 60\nconst LOGO_WIDTH = 36\nconst LOGO_HEIGHT = 36\nconst ACTION_BUTTON_FONT_SIZE = 14\n\nexport const Header = styled.header`\n  background-color: ${({theme}) => theme.background.secondary};\n  height: ${HEADER_HEIGHT}px;\n  width: 100%;\n  display: flex;\n  padding: 12px;\n  border-bottom: solid 1px ${({theme}) => theme.border};\n`\n\nexport const Title = styled.h1`\n  color: ${({theme}) => theme.text.primary};\n  font-size: 24px;\n  font-weight: 300;\n  display: flex;\n  text-align: center;\n  align-items: center;\n  margin-left: 5px;\n`\n\nexport const Link = styled.a`\n  display: flex;\n`\n\nexport const Nav = styled.div`\n  display: flex;\n  margin-left: auto;\n  order: 2;\n`\n\nexport const Action = styled.div`\n  display: flex;\n  cursor: pointer;\n  font-size: ${ACTION_BUTTON_FONT_SIZE}px;\n  color: ${({theme}) => theme.text.secondary};\n  align-items: center;\n  text-align: center;\n  padding-right: 10px;\n`\n\nexport const Logo = styled.svg`\n  width: ${LOGO_WIDTH}px;\n  height: ${LOGO_HEIGHT}px;\n  fill: ${({theme}) => theme.logo.color};\n`\n","export const darkTheme = {\n  name: \"dark\",\n  background: {\n    primary: \"#000\",\n    secondary: \"#0d0a08\",\n  },\n\n  text: {\n    primary: \"#bfbebe\",\n    secondary: \"#848886\",\n    disabled: \"\",\n  },\n\n  hot: {\n    primary: \"#ff0000\",\n    secondary: \"#af0404\",\n  },\n\n  warning: {\n    primary: \"#bfbebe\",\n    secondary: \"#848886\",\n  },\n\n  error: {\n    primary: \"#bfbebe\",\n    secondary: \"#848886\",\n  },\n\n  border: \"#272727\",\n  logo: {\n    color: \"#f57b51\",\n  },\n\n  chatbox: {\n    background: \"#331400\",\n  },\n\n  hover: {\n    brightness: \"200%\",\n    linkColor: \"\",\n  },\n}\n\nexport const lightTheme = {\n  name: \"light\",\n  background: {\n    primary: \"#f9f9f9\",\n    secondary: \"#f3f3f3\",\n  },\n\n  text: {\n    primary: \"#000000\",\n    secondary: \"#0f4c81\",\n    disabled: \"\",\n    primaryHover: \"#ff0000\",\n  },\n  hot: {\n    primary: \"#ff0000\",\n    secondary: \"#af0404\",\n  },\n\n  warning: {\n    primary: \"#bfbebe\",\n    secondary: \"#848886\",\n  },\n\n  error: {\n    primary: \"#bfbebe\",\n    secondary: \"#848886\",\n  },\n\n  border: \"#272727\",\n\n  logo: {\n    color: \"#f57b51\",\n  },\n\n  chatbox: {\n    background: \"#fff0f0\",\n  },\n\n  hover: {\n    brightness: \"95% \",\n    linkColor: \"#ff0000 !important\",\n  },\n}\n\nexport const themes = {\n  dark: darkTheme,\n  light: lightTheme,\n}\n","const NS = \"@hsReader/app\"\n\nexport const LOCAL_STORAGE_PREFERENCE_THEME = \"preferences.theme\"\n\nexport const actionTypes = {\n  SET_THEME: `${NS}/SET_THEME`,\n}\n\nconst actions = {\n  setTheme: (payload = {}) => {\n    const {theme} = payload\n    localStorage.setItem(LOCAL_STORAGE_PREFERENCE_THEME, theme.name)\n    return {type: actionTypes.SET_THEME, payload}\n  },\n}\n\nexport default actions\n","import React, {Component} from \"react\"\nimport {connect} from \"react-redux\"\n\nimport {Header, Link, Logo, Nav, Action, Title} from \"./styles\"\nimport {themes} from \"styles/palette\"\nimport actions from \"store/app/actions\"\nimport {FaRegMoon, FaRegSun} from \"react-icons/fa\"\n\nclass NavBar extends Component {\n  constructor() {\n    super()\n    this.toggleTheme = this.toggleTheme.bind(this)\n  }\n\n  toggleTheme(evt) {\n    const {theme, setTheme} = this.props\n    if (theme.name === themes.dark.name) {\n      setTheme(themes.light)\n    } else {\n      setTheme(themes.dark)\n    }\n  }\n\n  render() {\n    const {theme} = this.props\n    return (\n      <Header>\n        <Link href=\"/\">\n          <Logo viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path d=\"M20.496 9.026c-2.183-.93-5.116-1.53-8.25-1.695-.5-.03-.987-.04-1.45-.04 2.318-2.83 4.802-4.73 6.437-4.79.322-.013.595.055.813.196.706.458.905 1.768.545 3.59-.04.25.12.493.36.54.25.05.49-.11.54-.36.45-2.28.12-3.846-.94-4.538-.38-.248-.84-.365-1.35-.346-2.05.077-4.94 2.3-7.59 5.72-1.154.035-2.24.13-3.232.287-.646-2.897-.39-4.977.594-5.477.138-.073.285-.11.457-.124.697-.054 1.66.395 2.71 1.27.194.16.486.14.646-.06a.458.458 0 00-.06-.645C9.466 1.51 8.304 1 7.354 1.07a2.244 2.244 0 00-.803.22c-1.19.607-1.67 2.327-1.37 4.838.07.52.16 1.062.29 1.62C2.19 8.404.1 9.718.01 11.372c-.06 1.17.865 2.284 2.68 3.222a.46.46 0 10.42-.816C1.66 13.032.88 12.19.927 11.42c.05-1.08 1.772-2.19 4.76-2.78.27.994.62 2.032 1.05 3.09-1.018 1.888-1.756 3.747-2.137 5.4-.56 2.465-.26 4.22.86 4.948.36.234.78.35 1.247.35.935 0 2.067-.46 3.347-1.372a.458.458 0 10-.53-.746c-1.544 1.103-2.844 1.472-3.562 1.003-.76-.495-.926-1.943-.46-3.976.32-1.386.907-2.93 1.708-4.52.2.438.41.876.63 1.313 1.425 2.796 3.17 5.227 4.91 6.845 1.386 1.29 2.674 1.963 3.735 1.963.35 0 .68-.075.976-.223 1.145-.585 1.64-2.21 1.398-4.575-.224-2.213-1.06-4.91-2.354-7.6a.46.46 0 00-.83.396c2.69 5.602 2.88 10.19 1.37 10.96-1.59.813-5.424-2.355-8.39-8.18-.34-.655-.637-1.3-.9-1.93.34-.608.7-1.22 1.095-1.83.395-.604.806-1.188 1.224-1.745h.394c.54 0 1.126.01 1.734.048 6.53.343 10.975 2.56 10.884 4.334-.04.765-.924 1.538-2.425 2.12a.464.464 0 00-.26.596.455.455 0 00.593.262c1.905-.74 2.95-1.756 3.01-2.93.07-1.33-1.17-2.61-3.5-3.6v-.01zM8.08 9.45c-.27.415-.52.827-.764 1.244a23.66 23.66 0 01-.723-2.215c.713-.11 1.485-.19 2.31-.24-.28.39-.554.794-.82 1.21v-.01zm3.925 1.175a1.375 1.375 0 100 2.75 1.375 1.375 0 100-2.75z\"></path>\n          </Logo>\n        </Link>\n        <Title>Hackernews Alternative UI</Title>\n\n        <Nav>\n          {theme.name === themes.dark.name ? (\n            <Action onClick={this.toggleTheme}>\n              <FaRegSun />\n            </Action>\n          ) : (\n            <Action onClick={this.toggleTheme}>\n              <FaRegMoon />\n            </Action>\n          )}\n        </Nav>\n      </Header>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  theme: state.app.theme,\n})\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    setTheme: theme => dispatch(actions.setTheme({theme})),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NavBar)\n","import styled, {keyframes, css} from \"styled-components\"\n\nconst blink = keyframes`\n  /**\n  * At the start of the animation the dot\n  * has an opacity of .2\n  */\n  0% {\n    opacity: .2;\n  }\n  /**\n  * At 20% the dot is fully visible and\n  * then fades out slowly\n  */\n  20% {\n    opacity: 1;\n  }\n  /**\n  * Until it reaches an opacity of .2 and\n  * the animation can start again\n  */\n  100% {\n    opacity: .2;\n  }\n`\n\nexport const AnimitedBlink = css`\n  /**\n   * Use the blink animation, which is defined above\n   */\n  animation-name: ${blink};\n  /**\n   * The total time of animation\n   */\n  animation-duration: 1s;\n  /**\n   * It will repeat itself forever\n   */\n  animation-iteration-count: infinite;\n  /**\n   * This makes sure that the starting style (opacity: .2)\n   * of the animation is applied before the animation starts.\n   * Otherwise we would see a short flash or would have\n   * to set the default styling of the dots to the same\n   * as the animation. Same applies for the ending styles.\n   */\n  animation-fill-mode: both;\n\n  &:nth-child(2) {\n    animation-delay: 0.2s;\n  }\n\n  &:nth-child(3) {\n    animation-delay: 0.4s;\n  }\n`\n\nexport const Animation = styled.div`\n  text-align: center;\n  span {\n    color: ${({theme}) => theme.text.secondary};\n    display: inline-block;\n    margin-left: 4px;\n    margin-right: 4px;\n    font-size: 80px;\n    line-height: 0.1;\n\n    ${AnimitedBlink}\n  }\n`\n","import React from \"react\"\nimport {Animation} from \"./styles\"\nconst Loader = () => {\n  return (\n    <div>\n      <Animation>\n        <span>.</span>\n        <span>.</span>\n        <span>.</span>\n      </Animation>\n    </div>\n  )\n}\n\nexport default Loader\n","import axios from \"axios\"\n\nconst API_ROOT = process.env.URL || \"http://localhost:3000\"\nconst TIMEOUT = 20000\nconst HEADERS = {\n  \"Content-Type\": \"application/json\",\n  Accept: \"application/json\",\n}\n\nclass ApiService {\n  constructor({baseURL = API_ROOT, timeout = TIMEOUT, headers = HEADERS, auth}) {\n    const client = axios.create({\n      baseURL,\n      timeout,\n      headers,\n      auth,\n    })\n\n    client.interceptors.response.use(this.handleSuccess, this.handleError)\n    this.client = client\n  }\n\n  handleSuccess(response) {\n    return response\n  }\n\n  handleError(error) {\n    return Promise.reject(error)\n  }\n\n  get(path) {\n    return this.client.get(path).then(response => response.data)\n  }\n\n  post(path, payload) {\n    return this.client.post(path, payload).then(response => response.data)\n  }\n\n  put(path, payload) {\n    return this.client.put(path, payload).then(response => response.data)\n  }\n\n  patch(path, payload) {\n    return this.client.patch(path, payload).then(response => response.data)\n  }\n\n  delete(path) {\n    return this.client.delete(path).then(response => response.data)\n  }\n}\n\nexport default ApiService\n","import ApiService from \"./API\"\n\nconst BASE_URL = \"https://hacker-news.firebaseio.com/v0\"\nconst API_POST_FIX = \".json?print=pretty\"\n\nconst PAGE_LIMIT = 20\nconst API_CLIENT = new ApiService({baseURL: BASE_URL})\n\nexport const PAGE_STATUS = {\n  TO_FETCH: \"toFetch\",\n  FETCHING: \"fetching\",\n  FETCHED: \"fetched\",\n}\n\nconst hackerNewsApi = {\n  fetchTopStoriesIDs: () => {\n    return API_CLIENT.get(`${BASE_URL}/topstories${API_POST_FIX}`)\n  },\n\n  fetchStory: id => {\n    return API_CLIENT.get(`${BASE_URL}/item/${id}/${API_POST_FIX}`)\n  },\n\n  getPageStoryIDs: (ids, page) => {\n    const {start, end} = hackerNewsApi.getPageRange(PAGE_LIMIT, page)\n    const pageIDs = hackerNewsApi.getPageItems(ids, start, end)\n    return pageIDs\n  },\n\n  fetchStoriesByPage: (ids, page) => {\n    const pageIDs = hackerNewsApi.getPageStoryIDs(ids, page)\n    if (pageIDs) {\n      const storyPromises = pageIDs.map(id => hackerNewsApi.fetchStory(id))\n      return Promise.all(storyPromises)\n    } else {\n      return Promise.resolve([])\n    }\n  },\n\n  fetchStoriesIdsAsync: storyIDs => {\n    const storyPromises = storyIDs.map(id => hackerNewsApi.fetchStory(id))\n    return storyPromises\n  },\n\n  splitStoryIDsIntoPages: (storyIDs, chunkSize) => {\n    const pageSize = chunkSize || PAGE_LIMIT\n    const pages = storyIDs\n      .map((item, idx) =>\n        idx % pageSize === 0 ? storyIDs.slice(idx, idx + pageSize) : null\n      )\n      .filter(e => e)\n      .map((pageStoryIDs, pageIndex) => {\n        return {\n          index: pageIndex,\n          storyIDs: pageStoryIDs,\n          status: PAGE_STATUS.TO_FETCH,\n        }\n      })\n    return pages\n  },\n\n  getPageRange: (limit, page = 0) => {\n    return {start: limit * page, end: limit * (page + 1)}\n  },\n\n  getPageItems: (items, start, end) => {\n    return items.slice(start, end)\n  },\n\n  getUserDetailLink: userID => {\n    return `https://news.ycombinator.com/user?id=${userID}`\n  },\n\n  getStoryCommentURL: storyID => {\n    return `https://news.ycombinator.com/item?id=${storyID}`\n  },\n}\n\nexport default hackerNewsApi\n","import hackerNewsApi from \"services/hackernewsAPI\"\n\nconst NS = `@hnReader/Story`\nexport const actionTypes = {\n  FETCH_TOP_STORY_IDS_REQUEST: `${NS}/FETCH_TOP_STORY_IDS_REQUEST`,\n  FETCH_TOP_STORY_IDS_SUCCESS: `${NS}/FETCH_TOP_STORY_IDS_SUCCESS`,\n  FETCH_TOP_STORY_IDS_FAILURE: `${NS}/FETCH_TOP_STORY_IDS_FAILURE`,\n\n  FETCH_PAGE_BATCH_STORY_IDS_REQUEST: `${NS}/FETCH_PAGE_BATCH_STORY_IDS_REQUEST`,\n  FETCH_PAGE_BATCH_STORY_IDS_SUCCESS: `${NS}/FETCH_PAGE_BATCH_STORY_IDS_SUCCESS`,\n  FETCH_PAGE_BATCH_STORY_IDS_FAILURE: `${NS}/FETCH_PAGE_BATCH_STORY_IDS_FAILURE`,\n\n  FETCH_PAGE_BATCHES_REQUEST: `${NS}/FETCH_PAGE_BATCHES_REQUEST`,\n  FETCH_PAGE_BATCHES_SUCCESS: `${NS}/FETCH_PAGE_BATCHES_SUCCESS`,\n  FETCH_PAGE_BATCHES_FAILURE: `${NS}/FETCH_PAGE_BATCHES_FAILURE`,\n\n  FETCH_PAGE_BATCH_STORIES_REQUEST: `${NS}/FETCH_PAGE_BATCH_STORIES_REQUEST`,\n  FETCH_PAGE_BATCH_STORIES_SUCCESS: `${NS}/FETCH_PAGE_BATCH_STORIES_SUCCESS`,\n\n  RELOAD_STORIES: `${NS}/RELOAD_STORIES`,\n}\n\nconst defaultAction = (type, payload) => ({type, payload})\nexport const BATCH_SIZE = 5\n\nconst actions = {\n  reloadStories: (payload = {}) => {\n    return dispatch => {\n      dispatch(defaultAction(actionTypes.RELOAD_STORIES, payload))\n    }\n  },\n\n  fetchStoryPages: (payload = {}) => {\n    const fetchFirstPage = {payload}\n    return dispatch => {\n      dispatch(defaultAction(actionTypes.FETCH_TOP_STORY_IDS_REQUEST, payload))\n      return hackerNewsApi\n        .fetchTopStoriesIDs()\n        .then(storyIDs => {\n          const pages = hackerNewsApi.splitStoryIDsIntoPages(storyIDs)\n          dispatch(\n            defaultAction(actionTypes.FETCH_TOP_STORY_IDS_SUCCESS, {\n              storyIDs,\n              pages,\n            })\n          )\n          if (fetchFirstPage) {\n            dispatch(actions.fetchBatchesForPage({storyIDs, pageIndex: 0}))\n          }\n        })\n        .catch(err => {\n          dispatch(defaultAction(actionTypes.FETCH_TOP_STORY_IDS_FAILURE, err))\n        })\n    }\n  },\n\n  fetchBatchStoriesFromStoryIDs: (payload = {}) => {\n    return dispatch => {\n      const {batchStoryIDs, pageIndex} = payload\n      dispatch(\n        defaultAction(actionTypes.FETCH_PAGE_BATCH_STORIES_REQUEST, {\n          ...payload,\n          pageIndex,\n          batchStoryIDs,\n        })\n      )\n      const batchStoryPromises = batchStoryIDs.map(id => hackerNewsApi.fetchStory(id))\n      return Promise.all(batchStoryPromises).then(batchStories => {\n        const successPayload = {...payload, batchStories: batchStories}\n        dispatch(\n          defaultAction(actionTypes.FETCH_PAGE_BATCH_STORIES_SUCCESS, successPayload)\n        )\n      })\n    }\n  },\n\n  fetchBatchesForPage: (payload = {}) => {\n    return dispatch => {\n      dispatch(defaultAction(actionTypes.FETCH_PAGE_BATCHES_REQUEST, payload))\n\n      const {storyIDs, pageIndex} = payload\n      const pageStoryIDs = hackerNewsApi.getPageStoryIDs(storyIDs, pageIndex)\n\n      dispatch(\n        defaultAction(actionTypes.FETCH_PAGE_BATCHES_SUCCESS, {\n          ...payload,\n          pageStoryIDs,\n        })\n      )\n    }\n  },\n}\n\nexport default actions\n","import {PAGE_STATUS} from \"services/hackernewsAPI\"\n\nimport {BATCH_SIZE} from \"store/story/actions\"\n\nexport default class Utils {\n  static getNextPageToFetch(pages) {\n    const toFetchPage = pages.find(page => page.status !== PAGE_STATUS.FETCHED)\n    if (toFetchPage) {\n      return toFetchPage.index\n    } else {\n      return -1\n    }\n  }\n\n  static getFetchedPages(pages) {\n    return pages.filter(page => page.status === PAGE_STATUS.FETCHED)\n  }\n\n  static getPageBatches(page) {\n    const stories = page.stories || []\n    const batches = page.storyIDs\n      .map((item, idx) =>\n        idx % BATCH_SIZE === 0 ? page.storyIDs.slice(idx, idx + BATCH_SIZE) : null\n      )\n      .filter(e => e)\n      .map((batchStoryIDs, batchIndex) => {\n        return {\n          index: page.index * BATCH_SIZE + batchIndex,\n          batchStoryIDs: batchStoryIDs,\n          batchStories: stories.slice(page.index, page.index + BATCH_SIZE),\n        }\n      })\n    return batches\n  }\n}\n","import {createSelector} from \"reselect\"\nimport {PAGE_STATUS} from \"services/hackernewsAPI\"\n\nconst fetchedPagesSelector = state => {\n  const {pages} = state.story\n\n  if (pages) {\n    return pages\n      .filter(page => page.status === PAGE_STATUS.FETCHED)\n      .map(page => page.index)\n  } else {\n    return 0\n  }\n}\n\nconst totalPages = state => {\n  const {pages} = state.story\n  if (pages) {\n    return pages.map(page => page.index)\n  } else {\n    return 0\n  }\n}\n\nexport const hasMorePagesSelector = createSelector(\n  totalPages,\n  fetchedPagesSelector,\n  (totalPages, fetchedPages) => {\n    return totalPages.length > fetchedPages.length\n  }\n)\n","import styled from \"styled-components\"\n\nexport const StoryPageWrapper = styled.ul`\n  background-color: ${({theme}) => theme.backgroundSecondary};\n  border-radius: 4px;\n  margin-left: auto;\n  margin-right: auto;\n  margin-bottom: 20px;\n  display: flex;\n  flex-direction: column;\n\n  margin-before: 1em;\n  margin-after: 1em;\n  margin-start: 0;\n  margin-end: 0;\n  margin: 0;\n`\n","import styled, {css} from \"styled-components\"\nimport {AnimitedBlink} from \"components/Loader/styles\"\nimport {mobile, tablet} from \"styles/mediaQueries\"\n\nexport const BoxScore = styled.div`\n  font-size: 12px;\n  color: ${({theme}) => theme.hot.primary};\n`\n\nexport const HotBox = styled.div`\n  min-width: 80px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: ${({theme}) => theme.hot.primary};\n  flex-direction: column;\n  background-color: ${({theme}) => theme.background.secondary};\n  padding: 14px;\n\n  ${tablet} {\n    min-width: 60px;\n    padding: 12px;\n  }\n`\n\nexport const ChatBox = styled.div`\n  background-color: ${({theme}) => theme.chatbox.background};\n\n  color: #ff6600;\n  margin-top: 5px;\n\n  display: inline-block;\n  border-radius: 10%;\n  padding: 1px 6px;\n  text-align: center;\n  font-style: normal;\n  font-size: 12px;\n  line-height: 1.45;\n\n  ${tablet} {\n    line-height: 1;\n  }\n\n  &:after {\n    margin-top: -0.13rem;\n    margin-left: 0.07rem;\n    border-width: 0.6rem 0.66rem 0 0;\n  }\n`\n\nexport const ContentBox = styled.div`\n  display: flex;\n  flex-direction: column;\n  padding: 14px 0 14px 14px;\n  justify-content: center;\n  flex: 1;\n\n  ${tablet} {\n    padding: 12px 0 12px 6px;\n  }\n`\n\nexport const StoryListItem = styled.li`\n  border-bottom: 1px solid ${({theme}) => theme.border};\n  border-top: 1px solid ${({theme}) => theme.border};\n\n  flex-flow: row wrap;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n\n  ${({bogusLoader}) =>\n    bogusLoader &&\n    css`\n      ${AnimitedBlink}\n    `}\n\n  &:hover {\n    filter: brightness(${({theme}) => theme.hover.brightness});\n  }\n`\n\nexport const Title = styled.h3`\n  color: ${({theme}) => theme.text.primary};\n  margin-top: 0;\n  margin-bottom: 6px;\n  font-weight: 400;\n  font-size: 16px;\n  letter-spacing: 0.4px;\n  margin-right: 5px;\n`\n\nexport const Host = styled.span`\n  color: ${({theme}) => theme.text.secondary};\n  font-size: 12px;\n`\n\nexport const ExternalLink = styled.a`\n  color: ${({theme}) => theme.text.primary};\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  text-decoration: none;\n\n  &:hover {\n    color: ${({theme}) => theme.hover.linkColor};\n    h1,\n    h2,\n    h3,\n    span {\n      color: ${({theme}) => theme.hover.linkColor};\n    }\n  }\n`\n\nexport const Description = styled.div`\n  font-size: 12px;\n  color: ${({theme}) => theme.text.secondary};\n`\n\nexport const SimpleLink = styled.a`\n  color: ${({theme}) => theme.text.secondary};\n  &:visited {\n    color: ${({theme}) => theme.text.secondary};\n  }\n`\n\nexport const CommentLink = styled.div`\n  color: ${({theme}) => theme.text.secondary};\n`\n","import React, {Component} from \"react\"\nimport {connect} from \"react-redux\"\n\nimport timeago from \"epoch-timeago\"\n\nimport {\n  ExternalLink,\n  Title,\n  StoryListItem,\n  SimpleLink,\n  BoxScore,\n  Host,\n  CommentLink,\n  Description,\n  HotBox,\n  ContentBox,\n  ChatBox,\n} from \"./styles\"\nimport {getHostFromURL} from \"utils/Utils\"\nimport hackernewsAPI from \"services/hackernewsAPI\"\n\nclass StoryItem extends Component {\n  render() {\n    const {story, bogusLoader} = this.props\n    const postedTime = story.time * 1000\n    const domainHost = getHostFromURL(story.url)\n    const commentURL = hackernewsAPI.getStoryCommentURL(story.id)\n    return (\n      <StoryListItem bogusLoader={bogusLoader}>\n        <ExternalLink href={commentURL}>\n          <HotBox>\n            <BoxScore\n              href={commentURL}\n              rel=\"nofollow noreferrer noopener\"\n              target=\"_blank\"\n            >\n              {story.score}\n            </BoxScore>\n            <ChatBox>\n              <CommentLink\n                href={commentURL}\n                rel=\"nofollow noreferrer noopener\"\n                target=\"_blank\"\n              >\n                {\" \"}\n                {story.descendants}\n              </CommentLink>\n            </ChatBox>\n          </HotBox>\n        </ExternalLink>\n        <ContentBox>\n          <ExternalLink\n            href={story.url}\n            rel=\"nofollow noreferrer noopener\"\n            target=\"_blank\"\n          >\n            <Title>{story.title}</Title>\n          </ExternalLink>\n          <Description>\n            <SimpleLink\n              href={hackernewsAPI.getUserDetailLink(story.by)}\n              rel=\"nofollow noreferrer noopener\"\n              target=\"_blank\"\n            >\n              {story.by} {\" | \"}\n            </SimpleLink>\n            <time dateTime={new Date(postedTime).toISOString()}>\n              {timeago(postedTime)}\n            </time>\n            {domainHost && (\n              <Host>\n                {\" | \"} {domainHost}\n              </Host>\n            )}\n          </Description>\n        </ContentBox>\n      </StoryListItem>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({})\n\nconst mapDispatchToProps = {}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(StoryItem)\n","export const getHostFromURL = url => {\n  let domain = undefined\n  if (url) {\n    const urlMatches = url.match(/^https:\\/\\/([^/?#]+)(?:[/?#]|$)/i)\n    domain = urlMatches && urlMatches[1] // domain will be null if no match is found\n  }\n\n  return domain\n}\n","import StoryItem from \"components/Stories/StoryItem\"\n\nimport React, {Component} from \"react\"\nimport {connect} from \"react-redux\"\nimport actions from \"store/story/actions\"\n\nexport class StoryBatch extends Component {\n  render() {\n    const {batchStories, bogusLoader} = this.props\n    return (\n      <React.Fragment>\n        {batchStories &&\n          batchStories.map(story => (\n            <StoryItem key={story.id} story={story} bogusLoader={bogusLoader}></StoryItem>\n          ))}\n      </React.Fragment>\n    )\n  }\n}\n\nclass StoryBatchWrapper extends Component {\n  render() {\n    const {\n      batchStories,\n      bogusLoader,\n      batchIndex,\n      batchStoryIDs,\n      fetchedStories,\n    } = this.props\n    let effectiveStories = batchStories\n    if (!effectiveStories || batchStories.length === 0) {\n      effectiveStories = []\n      if (fetchedStories) {\n        effectiveStories = batchStoryIDs\n          .filter(storyID => {\n            return storyID in fetchedStories\n          })\n          .map(storyID => {\n            return fetchedStories[storyID]\n          })\n      }\n    }\n\n    return (\n      <StoryBatch\n        batchStories={effectiveStories}\n        batchIndex={batchIndex}\n        key={batchIndex}\n        bogusLoader={bogusLoader}\n      ></StoryBatch>\n    )\n  }\n\n  componentDidMount() {\n    const {\n      batchStories,\n      batchStoryIDs,\n      fetchBatchStoriesFromStoryIDs,\n      batchIndex,\n      pageIndex,\n    } = this.props\n    if (!batchStories || batchStories.length === 0) {\n      fetchBatchStoriesFromStoryIDs(batchStoryIDs, batchIndex, pageIndex)\n    }\n  }\n}\n\nconst mapStateToWrapperProps = state => {\n  const storyReducer = state.story\n  const fetchedStories = storyReducer.fetchedStories\n  return {\n    theme: state.app.theme,\n    fetchedStories: fetchedStories,\n  }\n}\n\nconst mapDispatchToWrapperProps = dispatch => {\n  return {\n    fetchBatchStoriesFromStoryIDs: (batchStoryIDs, batchIndex, pageIndex) =>\n      dispatch(\n        actions.fetchBatchStoriesFromStoryIDs({\n          batchStoryIDs,\n          batchIndex,\n          pageIndex,\n        })\n      ),\n  }\n}\n\nexport default connect(\n  mapStateToWrapperProps,\n  mapDispatchToWrapperProps\n)(StoryBatchWrapper)\n","import React, {Component} from \"react\"\nimport {StoryPageWrapper} from \"./styles\"\nimport StoryBatchWrapper from \"../StoryBatch\"\nimport Utils from \"store/story/utils\"\n\nclass StoryPage extends Component {\n  render() {\n    const {page, bogusLoader} = this.props\n    const batches = Utils.getPageBatches(page)\n    return (\n      <StoryPageWrapper bogusLoader={bogusLoader}>\n        {batches &&\n          batches.map(batch => (\n            <StoryBatchWrapper\n              batchStoryIDs={batch.batchStoryIDs}\n              pageIndex={page.index}\n              batchStories={batch.batchStories}\n              batchIndex={batch.index}\n              key={batch.index}\n              bogusLoader={bogusLoader}\n            ></StoryBatchWrapper>\n          ))}\n      </StoryPageWrapper>\n    )\n  }\n}\n\nexport default StoryPage\n","import React, {Component} from \"react\"\nimport {connect} from \"react-redux\"\nimport Loader from \"components/Loader\"\n\nimport actions from \"store/story/actions\"\nimport Utils from \"store/story//utils\"\n\nimport {hasMorePagesSelector} from \"store/story/selectors\"\n\nimport InfiniteScroll from \"react-infinite-scroll-component\"\nimport StoryPage from \"../StoryPage\"\n\nclass StoryPagesCollection extends Component {\n  constructor() {\n    super()\n    this.fetchNextPage = this.fetchNextPage.bind(this)\n    this.refreshData = this.refreshData.bind(this)\n  }\n\n  // override zones\n  componentDidMount() {\n    const {pagesFetched, fetchStoryPages} = this.props\n    if (!pagesFetched) {\n      fetchStoryPages()\n    }\n  }\n\n  componentDidUpdate() {}\n\n  fetchNextPage(evt) {\n    const {nextPageToFetch, fetchBatchesForPage, storyIDs} = this.props\n    if (nextPageToFetch >= 0) {\n      fetchBatchesForPage(storyIDs, nextPageToFetch)\n    }\n  }\n\n  refreshData() {\n    const {fetchStoryPages, reloadStories} = this.props\n    reloadStories()\n    fetchStoryPages()\n  }\n\n  render() {\n    const {pagedStoriesFetched, hasMorePages} = this.props\n    return (\n      <InfiniteScroll\n        dataLength={pagedStoriesFetched.length}\n        next={this.fetchNextPage}\n        hasMore={hasMorePages}\n        loader={<Loader />}\n        refreshFunction={this.refreshData}\n        pullDownToRefresh={true}\n        style={{height: \"100%\", overflow: \"visible\"}}\n      >\n        {pagedStoriesFetched &&\n          pagedStoriesFetched.map(page => {\n            return <StoryPage key={page.index} page={page} />\n          })}\n      </InfiniteScroll>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  const storyReducer = state.story\n\n  const {pages} = storyReducer\n  return {\n    theme: state.app.theme,\n    storyIDs: storyReducer.storyIDs,\n    hasMorePages: hasMorePagesSelector(state),\n    isFetching: storyReducer.isFetching,\n    pagedStoriesFetched: Utils.getFetchedPages(pages),\n    nextPageToFetch: Utils.getNextPageToFetch(pages),\n    pagesFetched: storyReducer.pagesFetched,\n    pages: storyReducer.pages,\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    fetchBatchesForPage: (storyIDs, pageIndex) =>\n      dispatch(actions.fetchBatchesForPage({storyIDs, pageIndex})),\n    fetchStoryPages: () => dispatch(actions.fetchStoryPages({fetchFirstPage: true})),\n    reloadStories: () => dispatch(actions.reloadStories()),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(StoryPagesCollection)\n","import React, {Component} from \"react\"\nimport {connect} from \"react-redux\"\nimport {ThemeProvider} from \"styled-components\"\n\nimport {Wrapper} from \"./style.js\"\nimport NavBar from \"components/Navigation\"\nimport StoryPagesCollection from \"components/Stories/StoryPagesCollection\"\n\nclass App extends Component {\n  render() {\n    const {theme} = this.props\n    return (\n      <ThemeProvider theme={theme}>\n        <div>\n          <Wrapper>\n            <NavBar></NavBar>\n\n            <StoryPagesCollection />\n          </Wrapper>\n        </div>\n      </ThemeProvider>\n    )\n  }\n\n  componentDidMount() {\n    this.setBodyBackgroundColor()\n  }\n\n  componentDidUpdate() {\n    this.setBodyBackgroundColor()\n  }\n\n  setBodyBackgroundColor() {\n    document.body.style = `background-color: ${this.props.theme.background.primary}`\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    theme: state.app.theme,\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {}\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App)\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\")\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: {\"Service-Worker\": \"script\"},\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\")\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\"No internet connection found. App is running in offline mode.\")\n    })\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister()\n      })\n      .catch(error => {\n        console.error(error.message)\n      })\n  }\n}\n","import {createGlobalStyle} from \"styled-components\"\n\nconst GlobalStyles = createGlobalStyle`\n    * {\n        box-sizing: border-box;\n    };\n\n    html, body {\n        font-family: Lato,Helvetica-Neue,Helvetica,Arial,sans-serif;\n        width: 100vw;\n        overflow-x: hidden;\n        margin: 0;\n        padding: 0;\n      }\n      ul {\n        list-style: none;\n        padding: 0;\n      }\n      a {\n        text-decoration: none;\n        &:visited {\n          color: inherit;\n        }\n      }\n`\n\nexport default GlobalStyles\n","import thunk from \"redux-thunk\"\nimport {createLogger} from \"redux-logger\"\nimport {compose, applyMiddleware} from \"redux\"\n\nconst isProd = process.env.NODE_ENV === \"production\"\nconst middlewares = []\n\nmiddlewares.push(thunk)\nif (!isProd) {\n  middlewares.push(createLogger())\n}\n\nconst middleware = compose(applyMiddleware(...middlewares))\nexport default middleware\n","import {actionTypes, LOCAL_STORAGE_PREFERENCE_THEME} from \"./actions\"\n\nimport {themes} from \"styles/palette\"\n\nconst getInitialState = () => {\n  // maybe the one currently store in the local storage?\n  const lastSavedTheme = localStorage.getItem(LOCAL_STORAGE_PREFERENCE_THEME)\n\n  if (lastSavedTheme) {\n    return {theme: themes[lastSavedTheme]}\n  } else {\n    return {theme: themes.dark}\n  }\n}\n\nconst app = (state = getInitialState(), {type, payload}) => {\n  switch (type) {\n    case actionTypes.SET_THEME:\n      return {\n        ...state,\n        ...payload,\n      }\n    default:\n      return state\n  }\n}\n\nexport default app\n","import {actionTypes} from \"./actions\"\nimport {PAGE_STATUS} from \"services/hackernewsAPI\"\n\nconst initialState = () => ({\n  storyIDs: [],\n  pages: [],\n  error: \"\",\n  isFetching: false,\n  pagesFetched: false,\n  fetchedStories: {},\n})\n\nconst story = (state = initialState(), {type, payload}) => {\n  switch (type) {\n    case actionTypes.RELOAD_STORIES: {\n      return initialState()\n    }\n    case actionTypes.FETCH_TOP_STORY_IDS_REQUEST: {\n      return {\n        ...state,\n        isFetching: true,\n      }\n    }\n    case actionTypes.FETCH_PAGE_STORIES_BATCH_REQUEST:\n    case actionTypes.FETCH_PAGE_STORIES_REQUEST: {\n      const {pageIndex} = payload\n      state.pages[pageIndex].status = PAGE_STATUS.FETCHING\n      return {\n        ...state,\n        isFetching: true,\n      }\n    }\n    case actionTypes.FETCH_PAGE_BATCH_STORIES_SUCCESS: {\n      const {batchStories} = payload\n      batchStories.map(story => {\n        state.fetchedStories[story.id] = story\n      })\n      return {\n        ...state,\n        isFetching: false,\n      }\n    }\n    case actionTypes.FETCH_TOP_STORY_IDS_SUCCESS:\n      const {pages} = payload\n      const pagesFetched = typeof pages !== \"undefined\" && pages.length !== 0\n\n      return {\n        ...state,\n        ...payload,\n        isFetching: false,\n        pagesFetched: pagesFetched,\n      }\n\n    case actionTypes.FETCH_PAGE_BATCHES_SUCCESS:\n      const {pageStoryIDs, pageIndex} = payload\n\n      state.pages[pageIndex].storyIDs = pageStoryIDs\n      state.pages[pageIndex].status = PAGE_STATUS.FETCHED\n      return {\n        ...state,\n        isFetching: false,\n      }\n\n    default:\n      return state\n  }\n}\n\nexport default story\n","import {combineReducers} from \"redux\"\n\nimport app from \"./app/reducer\"\nimport story from \"store/story/reducer\"\n\nconst rootReducer = combineReducers({\n  app,\n  story,\n})\n\nexport default rootReducer\n","import {createStore} from \"redux\"\nimport middleware from \"./middleware\"\nimport reducer from \"./reducer\"\n\nconst configureStore = initialState => {\n  const store = createStore(reducer, initialState, middleware)\n  return store\n}\n\nexport default configureStore\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport App from \"components/App\"\nimport * as serviceWorker from \"./serviceWorker\"\n\nimport GlobalStyles from \"styles/globals\"\nimport configureStore from \"./store\"\nimport {Provider} from \"react-redux\"\n\nconst renderApp = () => {\n  const store = configureStore()\n\n  if (process.env.NODE_ENV !== \"production\") {\n  }\n\n  ReactDOM.render(\n    <Provider store={store}>\n      <div>\n        <GlobalStyles />\n        <App />\n      </div>\n    </Provider>,\n    document.getElementById(\"root\")\n  )\n}\n\nrenderApp()\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}